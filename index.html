<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.145.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>FangjieYu‘s Hugo Site</title><meta name=Description content="This is my cool site"><meta property="og:url" content="https://fjyu95.github.io/">
<meta property="og:site_name" content="FangjieYu‘s Hugo Site"><meta property="og:title" content="FangjieYu‘s Hugo Site"><meta property="og:description" content="This is my cool site"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="FangjieYu‘s Hugo Site"><meta name=twitter:description content="This is my cool site"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://fjyu95.github.io/><link rel=alternate href=/index.xml type=application/rss+xml title="FangjieYu‘s Hugo Site"><link rel=feed href=/index.xml type=application/rss+xml title="FangjieYu‘s Hugo Site"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/fjyu95.github.io\/","inLanguage":"en","author":{"@type":"Person","name":"xxxx"},"description":"This is my cool site","name":"FangjieYu‘s Hugo Site"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="FangjieYu‘s Hugo Site">FangjieYu‘s Hugo Site</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>posts </a><a class=menu-item href=/tags/>tag </a><a class=menu-item href=/categories/>category </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="FangjieYu‘s Hugo Site">FangjieYu‘s Hugo Site</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>posts</a><a class=menu-item href=/tags/ title>tag</a><a class=menu-item href=/categories/ title>category</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=links></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/></a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xxxx</a></span>&nbsp;<span class=post-publish>published on <time datetime=0001-01-01>0001-01-01</time></span></div><div class=content><h1 id=linux-command>Linux command</h1><h1 id=linux命令大全>Linux命令大全</h1><p><a href=https://www.runoob.com/linux/linux-command-manual.html target=_blank rel="noopener noreffer">Linux 命令大全</a></p><h1 id=anaconda>Anaconda</h1><p><a href="https://www.notion.so/Anaconda-1cde4020f06080a58103d396c692c936?pvs=21" target=_blank rel="noopener noreffer">Anaconda</a></p><h2 id=常用命令>常用命令</h2><p><a href=https://blog.csdn.net/qq_38929105/article/details/123652248 target=_blank rel="noopener noreffer">Anaconda/pip 更换阿里源，助力 conda create -n 虚拟环境搭建_anaconda换阿里源_乄洛尘的博客-CSDN博客</a></p><p><a href=https://blog.csdn.net/menc15/article/details/71477949/ target=_blank rel="noopener noreffer">Conda常用命令整理_conda命令_CharlotteMen的博客-CSDN博客</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>conda -h <span class=c1># 查看帮助</span>
</span></span><span class=line><span class=cl>conda info
</span></span><span class=line><span class=cl>conda config -h 
</span></span><span class=line><span class=cl>conda config --show <span class=c1># 查看所有配置</span>
</span></span><span class=line><span class=cl>conda config --show-sources <span class=c1># 查看镜像源</span>
</span></span><span class=line><span class=cl>conda config --show pkgs_dirs <span class=c1># envs_dirs</span>
</span></span><span class=line><span class=cl>conda config --show solver <span class=c1># classic or libmamba</span>
</span></span><span class=line><span class=cl>conda config --remove-key channels <span class=c1># 恢复默认配置</span>
</span></span><span class=line><span class=cl>conda config --set auto_activate_base <span class=nb>false</span> <span class=c1># 不自动激活base</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>conda create -n env_name -c xxx <span class=nv>python</span><span class=o>=</span>version_number <span class=c1># 创建环境,使用vpn可能失败</span>
</span></span><span class=line><span class=cl>conda remove -n env_name --all <span class=c1># 删除环境 (可以暴力删除envs/xxx文件夹)</span>
</span></span><span class=line><span class=cl>sudo mv env_name new_name <span class=c1># 环境重命名</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>conda search cudnn --info <span class=c1># 查看可用版本</span>
</span></span><span class=line><span class=cl>conda update -n base -c defaults conda <span class=c1># 更新anaconda</span>
</span></span><span class=line><span class=cl>conda clean --all <span class=c1># 清除缓存</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改镜像源</span>
</span></span><span class=line><span class=cl>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
</span></span><span class=line><span class=cl>conda config --add channels conda-forge
</span></span><span class=line><span class=cl>conda config --set auto_activate_base <span class=nb>false</span>
</span></span><span class=line><span class=cl>vim ~/.condarc <span class=c1># 直接编辑配置文件，不要放太多（多了反而可能出错）</span>
</span></span><span class=line><span class=cl>channels:
</span></span><span class=line><span class=cl>  - https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
</span></span><span class=line><span class=cl>  - https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/
</span></span><span class=line><span class=cl>  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
</span></span><span class=line><span class=cl>  - defaults
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装包</span>
</span></span><span class=line><span class=cl>pip install <span class=nv>pkg_name</span><span class=o>==</span>xxx
</span></span></code></pre></div><h2 id=conda-环境迁移>conda 环境迁移</h2><p><a href=https://blog.csdn.net/ft_sunshine/article/details/92215164 target=_blank rel="noopener noreffer">conda环境的复制（生成.yaml文件）和pip环境的复制（生成requirements.txt）_当我们想再次创建该环境,或根据别人提供的.yaml文件复现环境时,就可以通过下面的-CSDN博客</a></p></div><div class=post-footer><a href=/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/%E7%99%BE%E5%BA%A6paddle-fluid.layers.fc-api%E8%AF%B4%E6%98%8E/></a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xxxx</a></span>&nbsp;<span class=post-publish>published on <time datetime=0001-01-01>0001-01-01</time></span></div><div class=content><p>学习百度的PaddlePaddle框架时，看到第一个线性回归的例子，对其中的fluid.layers.fc()函数使用有点困惑，查看官方API文档，感觉写的也不是特别清晰（可能是我理解的不好），经过一些思考后感觉应该是理解了，这里做一下总结。
下面是部分代码：</p><pre tabindex=0><code># 定义X数值
train_data=numpy.array([[1.0], [2.0], [3.0], [4.0]]).astype(&#39;float32&#39;)
# 定义期望预测的真实值y_true
y_true = numpy.array([[2.0], [4.0], [6.0], [8.0]]).astype(&#39;float32&#39;)

# 定义输入数据类型
x = fluid.data(name=&#34;x&#34;, shape=[None, 1], dtype=&#39;float32&#39;)
y = fluid.data(name=&#34;y&#34;, shape=[None, 1], dtype=&#39;float32&#39;)
# 搭建全连接网络
y_predict = fluid.layers.fc(input=x, size=1, act=None)
</code></pre><p>fluid.layers.fc接口如下</p><pre tabindex=0><code>paddle.fluid.layers.fc(input, size, num_flatten_dims=1, param_attr=None, bias_attr=None, act=None, name=None)
</code></pre><p>参数说明:
input ：多维Tensor或多个Tensor组成的list，输入Tensor的shape至少是2。
size： 全连接层输出单元的数目，即输出Tensor的特征维度。
num_flatten_dims(int)：在计算时，输入首先会被扁平化（flatten）为一个二维矩阵，之后再与权重(weights)相乘。参数 num_flatten_dims 决定了输入Tensor的flatten方式。
param_attr：指定权重参数属性的对象。默认值为None，表示使用默认的权重参数属性。
bias_attr：指定偏置参数属性的对象。默认值为None，表示使用默认的偏置参数属性。
act：应用于输出上的激活函数，如tanh、softmax、sigmoid，relu等。
name(str，可选)：一般无需设置，默认值为None。</p><p>fluid.layers.fc函数重点是前三个参数，输入Tensor的shape至少是2是理解这个API的核心，具体是<strong>不管输入Tensor的shape是多少，都会根据num_flatten_dims扁平化为二维矩阵</strong>，其中第一维是batch_size，第二维是输入Tensor的特征维度，计算时与一个权重矩阵相乘，输出shape为 [batch_size,size]的Tensor。</p><p>例如， 假设X是一个五维的Tensor，其shape为(2, 3, 4, 5, 6), 若 num_flatten_dims=3，则扁平化的矩阵shape为： (2x3x4,5x6)=(24,30) ，最终输出Tensor的shape为 (24,size) 。</p></div><div class=post-footer><a href=/posts/%E7%99%BE%E5%BA%A6paddle-fluid.layers.fc-api%E8%AF%B4%E6%98%8E/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/></a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xxxx</a></span>&nbsp;<span class=post-publish>published on <time datetime=0001-01-01>0001-01-01</time></span></div><div class=content><p>一直想学习一下百度的paddle框架，按照官方教程安装时，感觉步骤写的太繁琐，于是根据之前安装其他框架的经验进行尝试，使用最简单的anaconda方式进行安装，很快成功，记录一下过程。</p><h1 id=一安装准备>一、安装准备</h1><ol><li>anaconda</li><li>CUDA10.0、cudnn</li><li>paddlepaddle-gpu离线包（选择红色框选中的）<br>url: <a href=https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/ target=_blank rel="noopener noreffer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/</a><br><img class=lazyload src=/svg/loading.min.svg data-src=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/1.png data-srcset="/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/1.png, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/1.png 1.5x, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/1.png 2x" data-sizes=auto alt=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/1.png title=paddle清华源 width=558 height=230></li></ol><h1 id=二安装步骤>二、安装步骤</h1><h2 id=1创建虚拟环境>1.创建虚拟环境</h2><p><code>conda create -n paddle_env python=3.5</code></p><h2 id=2激活环境>2.激活环境</h2><p><code>activate paddle_env</code></p><h2 id=3安装paddle框架>3.安装paddle框架</h2><p><code>conda install paddlepaddle-gpu-1.6.2-py35_gpu_cuda10.0_windows.tar.bz2</code><br><img class=lazyload src=/svg/loading.min.svg data-src=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/2.png data-srcset="/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/2.png, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/2.png 1.5x, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/2.png 2x" data-sizes=auto alt=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/2.png title=在这里插入图片描述 width=558 height=55><br>(注意：使用pip install 命令安装会报错，原因还不清楚)</p><h2 id=4安装环境验证>4.安装环境验证</h2><p>使用python进入python解释器，输入import paddle.fluid，再输入 paddle.fluid.install_check.run_check()。<br>如果出现“Your Paddle Fluid is installed succesfully!”，说明成功安装。<br><img class=lazyload src=/svg/loading.min.svg data-src=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/3.png data-srcset="/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/3.png, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/3.png 1.5x, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/3.png 2x" data-sizes=auto alt=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/3.png title=在这里插入图片描述 width=558 height=176><br>(说明：输入import paddle.fluid可能会报错，提示找不到某些包，pip install 进行安装即可)</p><p>比如提示找不到‘nltk’包<br><img class=lazyload src=/svg/loading.min.svg data-src=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/4.png data-srcset="/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/4.png, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/4.png 1.5x, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/4.png 2x" data-sizes=auto alt=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/4.png title=在这里插入图片描述 width=558 height=140><br>pip 命令安装<br><img class=lazyload src=/svg/loading.min.svg data-src=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/5.png data-srcset="/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/5.png, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/5.png 1.5x, /posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/5.png 2x" data-sizes=auto alt=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/5.png title=在这里插入图片描述 width=558 height=120></p></div><div class=post-footer><a href=/posts/%E7%99%BE%E5%BA%A6paddlepaddle%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/>Read More</a></div></article></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>xxxx</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>