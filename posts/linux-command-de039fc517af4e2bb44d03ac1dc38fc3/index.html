<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>- FangjieYu‘s Hugo Site</title><meta name=Description content="This is my cool site"><meta property="og:url" content="https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/">
<meta property="og:site_name" content="FangjieYu‘s Hugo Site"><meta property="og:title" content="FangjieYu‘s Hugo Site"><meta property="og:description" content="Linux command Linux命令大全 Linux 命令大全
Anaconda Anaconda
常用命令 Anaconda/pip 更换阿里源，助力 conda create -n 虚拟环境搭建_anaconda换阿里源_乄洛尘的博客-CSDN博客
Conda常用命令整理_conda命令_CharlotteMen的博客-CSDN博客
conda -h # 查看帮助 conda info conda config -h conda config --show # 查看所有配置 conda config --show-sources # 查看镜像源 conda config --show pkgs_dirs # envs_dirs conda config --show solver # classic or libmamba conda config --remove-key channels # 恢复默认配置 conda config --set auto_activate_base false # 不自动激活base conda create -n env_name -c xxx python=version_number # 创建环境,使用vpn可能失败 conda remove -n env_name --all # 删除环境 (可以暴力删除envs/xxx文件夹) sudo mv env_name new_name # 环境重命名 conda search cudnn --info # 查看可用版本 conda update -n base -c defaults conda # 更新anaconda conda clean --all # 清除缓存 # 修改镜像源 conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ conda config --add channels conda-forge conda config --set auto_activate_base false vim ~/.condarc # 直接编辑配置文件，不要放太多（多了反而可能出错） channels: - https://mirrors.ustc.edu.cn/anaconda/pkgs/main/ - https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ - defaults # 安装包 pip install pkg_name==xxx conda 环境迁移 conda环境的复制（生成.yaml文件）和pip环境的复制（生成requirements.txt）_当我们想再次创建该环境,或根据别人提供的.yaml文件复现环境时,就可以通过下面的-CSDN博客"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content="FangjieYu‘s Hugo Site"><meta name=twitter:description content="Linux command Linux命令大全 Linux 命令大全
Anaconda Anaconda
常用命令 Anaconda/pip 更换阿里源，助力 conda create -n 虚拟环境搭建_anaconda换阿里源_乄洛尘的博客-CSDN博客
Conda常用命令整理_conda命令_CharlotteMen的博客-CSDN博客
conda -h # 查看帮助 conda info conda config -h conda config --show # 查看所有配置 conda config --show-sources # 查看镜像源 conda config --show pkgs_dirs # envs_dirs conda config --show solver # classic or libmamba conda config --remove-key channels # 恢复默认配置 conda config --set auto_activate_base false # 不自动激活base conda create -n env_name -c xxx python=version_number # 创建环境,使用vpn可能失败 conda remove -n env_name --all # 删除环境 (可以暴力删除envs/xxx文件夹) sudo mv env_name new_name # 环境重命名 conda search cudnn --info # 查看可用版本 conda update -n base -c defaults conda # 更新anaconda conda clean --all # 清除缓存 # 修改镜像源 conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ conda config --add channels conda-forge conda config --set auto_activate_base false vim ~/.condarc # 直接编辑配置文件，不要放太多（多了反而可能出错） channels: - https://mirrors.ustc.edu.cn/anaconda/pkgs/main/ - https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ - defaults # 安装包 pip install pkg_name==xxx conda 环境迁移 conda环境的复制（生成.yaml文件）和pip环境的复制（生成requirements.txt）_当我们想再次创建该环境,或根据别人提供的.yaml文件复现环境时,就可以通过下面的-CSDN博客"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/><link rel=prev href=https://fjyu95.github.io/posts/%E7%99%BE%E5%BA%A6paddle-fluid.layers.fc-api%E8%AF%B4%E6%98%8E/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/fjyu95.github.io\/posts\/linux-command-de039fc517af4e2bb44d03ac1dc38fc3\/"},"genre":"posts","wordcount":3490,"url":"https:\/\/fjyu95.github.io\/posts\/linux-command-de039fc517af4e2bb44d03ac1dc38fc3\/","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xxxx"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="FangjieYu‘s Hugo Site">My cool site</a></div><div class=menu><div class=menu-inner><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="FangjieYu‘s Hugo Site">My cool site</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX"></h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xxxx</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=0001-01-01>0001-01-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;3490 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;17 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#常用命令>常用命令</a></li><li><a href=#conda-环境迁移>conda 环境迁移</a></li><li><a href=#conda-自动补全>conda 自动补全</a></li><li><a href=#linux-ubuntu-conda-虚拟环境-激活>Linux Ubuntu Conda 虚拟环境 激活</a></li></ul><ul><li><ul><li><a href=#第一栏磁盘文件名><strong>第一栏：磁盘文件名</strong></a></li></ul></li><li><a href=#systemd>systemd</a></li></ul><ul><li><a href=#查看保留空间>查看保留空间</a></li></ul><ul><li><a href=#scp>scp</a></li><li><a href=#rsync>rsync</a></li></ul><ul><li><a href=#几个常用命令区别>几个常用命令区别</a></li></ul><ul><li><a href=#云厂商查询>云厂商查询</a></li></ul><ul><li><a href=#查看wifi名称>查看wifi名称</a></li></ul><ul><li><a href=#四种执行方式>四种执行方式</a></li><li><a href=#刷新shell>刷新shell</a></li><li><a href=#查看更改shell>查看、更改shell</a></li><li><a href=#新建终端并执行命令>新建终端并执行命令</a></li></ul><ul><li><a href=#修改密码>修改密码</a></li><li><a href=#密码过期>密码过期</a></li></ul><ul><li><a href=#解除占用>解除占用</a></li></ul><ul><li><a href=#刷新系统ui>刷新系统UI</a></li></ul><ul><li><a href=#usrbin-vs-usrlocalbin>/usr/bin v.s. /usr/local/bin</a><ul><li><a href=#1-usrbin>1. <strong><code>/usr/bin</code></strong></a></li><li><a href=#2-usrlocalbin>2. <strong><code>/usr/local/bin</code></strong></a></li></ul></li></ul></nav></div></div><div class=content id=content><h1 id=linux-command>Linux command</h1><h1 id=linux命令大全>Linux命令大全</h1><p><a href=https://www.runoob.com/linux/linux-command-manual.html target=_blank rel="noopener noreffer">Linux 命令大全</a></p><h1 id=anaconda>Anaconda</h1><p><a href="https://www.notion.so/Anaconda-1cde4020f06080a58103d396c692c936?pvs=21" target=_blank rel="noopener noreffer">Anaconda</a></p><h2 id=常用命令>常用命令</h2><p><a href=https://blog.csdn.net/qq_38929105/article/details/123652248 target=_blank rel="noopener noreffer">Anaconda/pip 更换阿里源，助力 conda create -n 虚拟环境搭建_anaconda换阿里源_乄洛尘的博客-CSDN博客</a></p><p><a href=https://blog.csdn.net/menc15/article/details/71477949/ target=_blank rel="noopener noreffer">Conda常用命令整理_conda命令_CharlotteMen的博客-CSDN博客</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda -h <span style=color:#75715e># 查看帮助</span>
</span></span><span style=display:flex><span>conda info
</span></span><span style=display:flex><span>conda config -h 
</span></span><span style=display:flex><span>conda config --show <span style=color:#75715e># 查看所有配置</span>
</span></span><span style=display:flex><span>conda config --show-sources <span style=color:#75715e># 查看镜像源</span>
</span></span><span style=display:flex><span>conda config --show pkgs_dirs <span style=color:#75715e># envs_dirs</span>
</span></span><span style=display:flex><span>conda config --show solver <span style=color:#75715e># classic or libmamba</span>
</span></span><span style=display:flex><span>conda config --remove-key channels <span style=color:#75715e># 恢复默认配置</span>
</span></span><span style=display:flex><span>conda config --set auto_activate_base false <span style=color:#75715e># 不自动激活base</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>conda create -n env_name -c xxx python<span style=color:#f92672>=</span>version_number <span style=color:#75715e># 创建环境,使用vpn可能失败</span>
</span></span><span style=display:flex><span>conda remove -n env_name --all <span style=color:#75715e># 删除环境 (可以暴力删除envs/xxx文件夹)</span>
</span></span><span style=display:flex><span>sudo mv env_name new_name <span style=color:#75715e># 环境重命名</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>conda search cudnn --info <span style=color:#75715e># 查看可用版本</span>
</span></span><span style=display:flex><span>conda update -n base -c defaults conda <span style=color:#75715e># 更新anaconda</span>
</span></span><span style=display:flex><span>conda clean --all <span style=color:#75715e># 清除缓存</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 修改镜像源</span>
</span></span><span style=display:flex><span>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
</span></span><span style=display:flex><span>conda config --add channels conda-forge
</span></span><span style=display:flex><span>conda config --set auto_activate_base false
</span></span><span style=display:flex><span>vim ~/.condarc <span style=color:#75715e># 直接编辑配置文件，不要放太多（多了反而可能出错）</span>
</span></span><span style=display:flex><span>channels:
</span></span><span style=display:flex><span>  - https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
</span></span><span style=display:flex><span>  - https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/
</span></span><span style=display:flex><span>  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
</span></span><span style=display:flex><span>  - defaults
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安装包</span>
</span></span><span style=display:flex><span>pip install pkg_name<span style=color:#f92672>==</span>xxx
</span></span></code></pre></div><h2 id=conda-环境迁移>conda 环境迁移</h2><p><a href=https://blog.csdn.net/ft_sunshine/article/details/92215164 target=_blank rel="noopener noreffer">conda环境的复制（生成.yaml文件）和pip环境的复制（生成requirements.txt）_当我们想再次创建该环境,或根据别人提供的.yaml文件复现环境时,就可以通过下面的-CSDN博客</a></p><p>pip freeze > requirements.txt</p><p>pip install -r requirements.txt</p><p>conda env export > environment.yaml</p><p>conda env create -f environment.yaml</p><h2 id=conda-自动补全>conda 自动补全</h2><p><a href=https://blog.csdn.net/weixin_43152331/article/details/124929760 target=_blank rel="noopener noreffer">Ubuntu conda自动补全_sjjzym1314的博客-CSDN博客</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda install conda-bash-completion
</span></span><span style=display:flex><span><span style=color:#75715e># 指定forge源安装</span>
</span></span><span style=display:flex><span>conda install -c conda-forge conda-bash-completion 
</span></span></code></pre></div><h2 id=linux-ubuntu-conda-虚拟环境-激活>Linux Ubuntu Conda 虚拟环境 激活</h2><p><a href=https://blog.csdn.net/qq_39856931/article/details/109862865 target=_blank rel="noopener noreffer">【Linux】安装Anaconda后默认不进入conda环境方法_杨小浩浩hh的博客-CSDN博客</a></p><p>1、未进入虚拟环境时：</p><p>直接 conda activate env_name</p><p>2、在虚拟环境中时</p><p>执行两次source deactivate命令 使不在conda管理的环境中</p><p>（或两次 conda deactivate命令）</p><h1 id=pip>pip</h1><p>pip 指定镜像源：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip -V <span style=color:#75715e># 查看pip安装路径</span>
</span></span><span style=display:flex><span>pip config set global.index-url <span style=color:#f92672>[</span>https://pypi.tuna.tsinghua.edu.cn/simple<span style=color:#f92672>](</span>https://pypi.tuna.tsinghua.edu.cn/simple<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>pip config unset global.index-url <span style=color:#75715e># 恢复默认源</span>
</span></span><span style=display:flex><span>pip config list <span style=color:#75715e># 查看镜像地址</span>
</span></span><span style=display:flex><span>pip show pkg_name <span style=color:#75715e># 查看包路径（安装位置）</span>
</span></span><span style=display:flex><span>pip list -v <span style=color:#75715e># 显示详细信息，包括包路径</span>
</span></span><span style=display:flex><span>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple package_name <span style=color:#75715e># 指定源</span>
</span></span><span style=display:flex><span>pip install --upgrade pip <span style=color:#75715e># 升级pip</span>
</span></span><span style=display:flex><span>pip3 install --upgrade pip
</span></span><span style=display:flex><span>https://www.piwheels.org/project/pip/ <span style=color:#75715e># 手动下载地址，注意与python版本的适配</span>
</span></span><span style=display:flex><span>-f 是为 pip 提供额外的搜索路径，用来查找包文件。它既可以是一个本地路径，也可以是一个网络路径。
</span></span><span style=display:flex><span>--index-url 是直接替换默认的 PyPI 源，指定一个新的包索引来查找和解析包依赖信息。
</span></span><span style=display:flex><span>pip show pkg_name <span style=color:#75715e># 查看包信息</span>
</span></span><span style=display:flex><span>pip cache purge  <span style=color:#75715e># 清理全局 Pip 缓存</span>
</span></span></code></pre></div><h1 id=wsl>WSL</h1><p>wsl使用</p><p>WSL本地根目录:C:\Users\fjyu\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc\LocalState\rootfs挂载网络共享磁盘：（/mnt目录下）</p><p>sudo mount -t drvfs R: r (每次开机需要重新挂载)</p><p>设置软链接：（目标目录可以不存在）</p><p>sudo ln -s /mnt/r/RD\ Data/QTE/YFJ YFJ</p><p>删除软链接</p><p>sudo unlink YFJ</p><p><a href=http://man6.org/blog/Windows/WSL%e4%b8%8eWindows%e5%85%b1%e4%ba%ab%e7%9b%ae%e5%bd%95.md target=_blank rel="noopener noreffer">WSL与Windows共享目录.md</a></p><p><a href=https://zhuanlan.zhihu.com/p/34884285 target=_blank rel="noopener noreffer">WSL 使用指南——04 安装桌面环境</a></p><p>显示图像等需安装xming（启动xlaunch）</p><p>还需要下载安装fonts，否则中文乱码</p><p>.bashrc设置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#a6e22e>DISPLAY</span><span style=color:#f92672>=:</span><span style=color:#ae81ff>0.0</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>显示图形界面</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#a6e22e>LIBGL_ALWAYS_INDIRECT</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>drvfs</span> <span style=color:#a6e22e>R</span><span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>/mnt/r # 自动挂载共享盘</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cd</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>mnt</span><span style=color:#f92672>/</span><span style=color:#a6e22e>YFJ</span><span style=color:#f92672>/</span><span style=color:#a6e22e>python</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ll</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>htr</span>
</span></span></code></pre></div><h1 id=磁盘挂载>磁盘挂载</h1><p><a href=https://www.runoob.com/linux/linux-comm-mount.html target=_blank rel="noopener noreffer">Linux mount命令 | 菜鸟教程</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>drvfs</span> <span style=color:#a6e22e>R</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>r</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>WSL挂载</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>drvfs</span> <span style=color:#a6e22e>R</span><span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>/mnt/r # 自动挂载共享盘</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>o</span> <span style=color:#a6e22e>loop</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>tmp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>iso</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>mnt</span><span style=color:#f92672>/</span><span style=color:#a6e22e>cdrom</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>ISO挂载</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>cifs</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>o</span> <span style=color:#a6e22e>username</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;303lab&#34;</span>,<span style=color:#a6e22e>password</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;quanta303&#34;</span> <span style=color:#75715e>//192.168.2.112/6 /home/zhaoyun/192.168.2.112
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>o</span> <span style=color:#a6e22e>username</span><span style=color:#f92672>=</span><span style=color:#a6e22e>fjyu</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>quantaeye</span>.<span style=color:#a6e22e>local</span>,<span style=color:#a6e22e>password</span><span style=color:#f92672>=</span><span style=color:#ae81ff>123456</span>,<span style=color:#a6e22e>uid</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1009</span>,<span style=color:#a6e22e>gid</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1011</span> <span style=color:#75715e>//192.168.3.10/QuantaEye/RD\ Data /share
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>ntfs3</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>dev</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sda2</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>media</span><span style=color:#f92672>/</span><span style=color:#a6e22e>yfjie</span><span style=color:#f92672>/</span><span style=color:#a6e22e>文档</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>以ntfs3格式挂载磁盘</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>ntfs</span><span style=color:#f92672>-</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>g</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>dev</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sda2</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>media</span><span style=color:#f92672>/</span><span style=color:#a6e22e>hdd</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>o</span> <span style=color:#a6e22e>force</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>强制挂载</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>忽略权限检查</span>
</span></span></code></pre></div><p>开机自动挂载</p><p><a href=https://gnu-linux.readthedocs.io/zh/latest/Chapter02/00_fstab.html target=_blank rel="noopener noreffer">开机自动挂载硬盘 — Linux latest 文档</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>cp</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>etc</span><span style=color:#f92672>/</span><span style=color:#a6e22e>fstab</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>etc</span><span style=color:#f92672>/</span><span style=color:#a6e22e>fstab</span>.<span style=color:#a6e22e>bak</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>vim</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>etc</span><span style=color:#f92672>/</span><span style=color:#a6e22e>fstab</span> 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>/dev/sdb1 /mnt/mydrive ext4 defaults 0 0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>使挂载生效</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>reboot</span>
</span></span></code></pre></div><h3 id=第一栏磁盘文件名><strong>第一栏：磁盘文件名</strong></h3><p>这个字段可以填写的数据主要有三种：</p><ul><li>磁盘设备的文件名，如 <code>/dev/sda1</code></li><li>磁盘设备的 <a href=https://gnu-linux.readthedocs.io/zh/latest/Chapter03/00_uuid.html target=_blank rel="noopener noreffer">UUID</a> 名称，如 UUID=xxx</li><li>磁盘设备的 LABEL 名称，例如 LABEL=xxx</li></ul><h2 id=systemd>systemd</h2><p><a href=https://www.expoli.tech/articles/2022/12/23/use-systemd-mount-any-device#837c6064cb3d4e759a9ffee839855549 target=_blank rel="noopener noreffer">https://www.expoli.tech/articles/2022/12/23/use-systemd-mount-any-device#837c6064cb3d4e759a9ffee839855549</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span>[<span style=color:#a6e22e>Unit</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>Description</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Mount</span> <span style=color:#a6e22e>mydisk</span> <span style=color:#a6e22e>at</span> <span style=color:#a6e22e>startup</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>After</span><span style=color:#f92672>=</span><span style=color:#a6e22e>network</span>.<span style=color:#a6e22e>target</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>After</span><span style=color:#f92672>=</span><span style=color:#a6e22e>local</span><span style=color:#f92672>-</span><span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>target</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>Service</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>Type</span><span style=color:#f92672>=</span><span style=color:#a6e22e>oneshot</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ExecStart</span><span style=color:#f92672>=</span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>mount</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#a6e22e>ntfs3</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>dev</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sda2</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>media</span><span style=color:#f92672>/</span><span style=color:#a6e22e>yfjie</span><span style=color:#f92672>/</span><span style=color:#a6e22e>文档</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>RemainAfterExit</span><span style=color:#f92672>=</span><span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>Install</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>WantedBy</span><span style=color:#f92672>=</span><span style=color:#a6e22e>multi</span><span style=color:#f92672>-</span><span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>target</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ll /etc/systemd/system/
</span></span><span style=display:flex><span>sudo mkdir -p /mnt/mydisk
</span></span><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span>sudo systemctl enable mnt-mydisk.mount  <span style=color:#75715e># 启用开机自启</span>
</span></span><span style=display:flex><span>sudo systemctl start mnt-mydisk.mount   <span style=color:#75715e># 立即挂载</span>
</span></span></code></pre></div><h1 id=磁盘分区>磁盘分区</h1><p><a href=https://www.cnblogs.com/andy9468/p/14252003.html target=_blank rel="noopener noreffer">总结-磁盘+分区+文件系统+挂载的查询 - 安迪9468 - 博客园</a></p><p><a href=https://linux.cn/article-10727-1.html target=_blank rel="noopener noreffer">技术|Linux 中获取硬盘分区或文件系统的 UUID 的七种方法</a></p><ul><li><code>lsblk</code>：这个命令会显示所有可用磁盘和分区的信息。在输出结果中，您可以看到每个磁盘和分区的名称、 挂载点和文件系统类型等信息。</li><li><code>sudo fdisk -l</code>：这个命令会列出所有的磁盘分区表。在输出结果中，您可以看到每个磁盘的名称、大小和分区数量等信息，以及每个分区的编号、大小和文件系统类型等信息。</li><li><code>sudo parted -l</code>：这个命令会显示更详细的磁盘和分区信息，包括每个分区的文件系统标签和UUID等信息。</li><li>blkid # block uuid</li><li>lsblk -f # list uuid，<strong>Recommended</strong></li><li>ll /dev/disk/by-uuid/</li></ul><h1 id=磁盘信息>磁盘信息</h1><p><a href="https://www.notion.so/ncdu-1dfe4020f06080bd809fdc7edadcbc66?pvs=21" target=_blank rel="noopener noreffer">ncdu</a></p><p><a href=https://www.runoob.com/linux/linux-comm-df.html target=_blank rel="noopener noreffer">Linux df 命令</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>df -hT
</span></span><span style=display:flex><span>df -h /path/to/your/file_or/dir <span style=color:#75715e># 查看目录所在的挂载点及挂载设备</span>
</span></span><span style=display:flex><span>ncdu <span style=color:#75715e># d键可以删除,i键显示元信息</span>
</span></span><span style=display:flex><span>ncdu /home <span style=color:#75715e># 可选sudo</span>
</span></span><span style=display:flex><span>ncdu /
</span></span><span style=display:flex><span>sudo ncdu / --exclude /data <span style=color:#f92672>[</span>--exclude /mnt --exclude /media<span style=color:#f92672>]</span> 
</span></span></code></pre></div><h2 id=查看保留空间>查看保留空间</h2><p>sudo tune2fs -l /dev/sda1 | grep &ldquo;Reserved block count&rdquo;</p><p>单位：4KB</p><h1 id=环境变量>环境变量</h1><p>在 Linux 中，有许多常用的环境变量可用于控制系统行为、配置应用程序和提供有关系统和用户环境的信息。以下是一些常用的 Linux 环境变量：</p><ol><li><strong>PATH</strong>：指定系统在哪些目录中搜索可执行文件。当你在终端中输入命令时，系统会在 PATH 中指定的目录中查找这些命令的可执行文件。</li><li><strong>HOME</strong>：指定当前用户的主目录路径。大多数用户相关的配置文件和数据都存储在 HOME 目录下。</li><li><strong>USER</strong>：当前登录用户的用户名。</li><li><strong>PWD</strong>：当前工作目录的路径。</li><li><strong>LANG</strong>：指定默认的区域设置语言。它影响了程序的语言和格式化输出。</li><li><strong>TZ</strong>：指定系统时区。</li><li><strong>SHELL</strong>：指定默认的登录 shell。</li><li><strong>EDITOR</strong>：指定默认的文本编辑器。</li><li><strong>TERM</strong>：指定当前终端类型。</li><li><strong>LD_LIBRARY_PATH</strong>：指定系统在哪些目录中搜索共享库文件。</li><li><strong>DISPLAY</strong>：指定 X11 显示服务器的地址。</li><li><strong>PS1</strong>：指定命令提示符的格式。</li></ol><p>这些只是一些常见的 Linux 环境变量，实际上还有许多其他环境变量可用于各种用途。你可以在终端中使用 <code>env</code> 命令来查看当前定义的所有环境变量，以及它们的值。</p><h1 id=语言编码>语言编码</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo $LANG
</span></span><span style=display:flex><span>export LANG<span style=color:#f92672>=</span>en_US.UTF-8
</span></span><span style=display:flex><span>locale -a
</span></span><span style=display:flex><span>sudo dpkg-reconfigure locales
</span></span></code></pre></div><h1 id=ls只列出部分项>ls只列出部分项</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ll | head -n <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>ll | tail -n <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>ls | grep <span style=color:#e6db74>&#34;pattern&#34;</span>
</span></span><span style=display:flex><span>ll -X <span style=color:#75715e># 扩展名排序</span>
</span></span><span style=display:flex><span>ls -l | grep ^d <span style=color:#75715e># 仅显示目录</span>
</span></span><span style=display:flex><span>ls -l | grep ^- <span style=color:#75715e># 仅显示文件</span>
</span></span><span style=display:flex><span>ls -lSr <span style=color:#75715e># 从小到大排序，-r为逆序排列</span>
</span></span><span style=display:flex><span>ls -l | grep <span style=color:#e6db74>&#34;^-&#34;</span> | wc -l <span style=color:#75715e># 统计文件数</span>
</span></span><span style=display:flex><span>ls -ld .* | grep -v <span style=color:#e6db74>&#39;^\.\.?$&#39;</span> <span style=color:#75715e># 仅显示隐藏文件</span>
</span></span></code></pre></div><p><a href=https://blog.csdn.net/yingzinanfei/article/details/54893494 target=_blank rel="noopener noreffer">ls 按大小和扩展名排序_ls按照文件名排序_陈止风的博客-CSDN博客</a></p><p><a href=https://noahsnail.com/2017/02/07/2017-02-07-Linux%e7%bb%9f%e8%ae%a1%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b%e7%9a%84%e6%96%87%e4%bb%b6%e6%95%b0%e7%9b%ae/ target=_blank rel="noopener noreffer">Linux统计文件夹下的文件数目</a></p><p><a href=https://xujinzh.github.io/2022/01/21/ls-dir-file/index.html target=_blank rel="noopener noreffer">https://xujinzh.github.io/2022/01/21/ls-dir-file/index.html</a></p><h1 id=ln软链接>ln软链接</h1><p>创建快捷方式（源文件必须是绝对路径）</p><p>ln -s /path/to/original/file/example.txt /path/to/shortcut/example.lnk</p><p>设置软链接：（目标目录可以不存在）</p><p>sudo ln -s /mnt/r/RD\ Data/QTE/YFJ YFJ</p><p>删除软链接</p><p>sudo unlink YFJ
<code>ln -sf /path/to/source ebook</code> # 强制覆盖</p><h1 id=终端显示图像-需开启xserver>终端显示图像 (需开启xserver)</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>display img_path
</span></span><span style=display:flex><span>eog img_path <span style=color:#75715e># 通用，慢</span>
</span></span><span style=display:flex><span>catimg your_image.jpg <span style=color:#75715e># 快速显示</span>
</span></span><span style=display:flex><span>catimg -w <span style=color:#ae81ff>50</span> filepath
</span></span><span style=display:flex><span>w3m -o auto_image<span style=color:#f92672>=</span>TRUE your_image.jpg
</span></span><span style=display:flex><span>chafa your_image.jpg
</span></span><span style=display:flex><span>feh your_image.jpg
</span></span><span style=display:flex><span>gpicview your_image.jpg <span style=color:#75715e># 推荐，略快</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># yum安装catimg，直接下下载.rpm包然后yum install</span>
</span></span></code></pre></div><h1 id=图像处理imagemagick>图像处理/imagemagick</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt install imagemagick
</span></span><span style=display:flex><span><span style=color:#75715e># mogrify会覆盖原图</span>
</span></span><span style=display:flex><span>mogrify -resize 50% *.jpg <span style=color:#75715e># 等比例缩放</span>
</span></span><span style=display:flex><span>mogrify -resize 800x *.jpg  <span style=color:#75715e># 宽度固定为 800，高度按比例调整</span>
</span></span><span style=display:flex><span>mogrify -resize 800x600 *.jpg <span style=color:#75715e># 限制最大尺寸，并保持宽高比</span>
</span></span><span style=display:flex><span>mogrify -resize 800x600! *.jpg <span style=color:#75715e># 强制变形</span>
</span></span><span style=display:flex><span>mogrify -resize 1024x768 *.png *.jpg <span style=color:#75715e># 多种格式</span>
</span></span><span style=display:flex><span>mogrify -format jpg *.png <span style=color:#75715e># 批量格式转换</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># convert生成新文件</span>
</span></span><span style=display:flex><span>convert input.jpg -resize 50% output.jpg
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 图像信息</span>
</span></span><span style=display:flex><span>identify image.jpg
</span></span><span style=display:flex><span>identify -verbose image.jpg <span style=color:#75715e># 详细信息</span>
</span></span></code></pre></div><h1 id=视频处理ffmpeg>视频处理/FFmpeg</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 设备查看</span>
</span></span><span style=display:flex><span>lsusb
</span></span><span style=display:flex><span>ls /dev/video*
</span></span><span style=display:flex><span>v4l2-ctl --list-devices
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 列出指定视频设备支持的视频格式</span>
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --list-formats
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --list-formats-ext <span style=color:#75715e># 详细信息</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 当前视频格式和分辨率</span>
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --get-fmt-video
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 设备支持的所有控制项及其当前值</span>
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --list-ctrls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示指定视频设备的基本信息</span>
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --info
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 控制软件</span>
</span></span><span style=display:flex><span>cheese
</span></span><span style=display:flex><span>guvcview <span style=color:#75715e># recommend</span>
</span></span><span style=display:flex><span>v4l2 test utility
</span></span><span style=display:flex><span>orbbec viewer <span style=color:#75715e># 管理员权限运行</span>
</span></span><span style=display:flex><span>rviz
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 相机设置</span>
</span></span><span style=display:flex><span>v4l2-ctl --set-fmt-video<span style=color:#f92672>=</span>width<span style=color:#f92672>=</span>1920,height<span style=color:#f92672>=</span>1080,pixelformat<span style=color:#f92672>=</span>MJPG --device /dev/video0
</span></span><span style=display:flex><span>v4v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --set-fmt-video<span style=color:#f92672>=</span>width<span style=color:#f92672>=</span>1280,height<span style=color:#f92672>=</span>720,pixelformat<span style=color:#f92672>=</span>MJPG
</span></span><span style=display:flex><span>auto_exposure <span style=color:#f92672>(</span>自动曝光<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>min<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> max<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span> default<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span> value<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>(</span>Aperture Priority Mode<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>控制自动曝光的模式。
</span></span><span style=display:flex><span>0：禁用自动曝光（手动曝光）。
</span></span><span style=display:flex><span>1：启用自动曝光（快门优先模式）。
</span></span><span style=display:flex><span>2：启用自动曝光（ISO 优先模式）。
</span></span><span style=display:flex><span>3：启用自动曝光（光圈优先模式，默认设置）。
</span></span><span style=display:flex><span>dmesg | grep -i usb <span style=color:#75715e># 查看内核日志</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 视频流查看</span>
</span></span><span style=display:flex><span>mplayer tv:// -tv device<span style=color:#f92672>=</span>/dev/video0 <span style=color:#75715e># 读取并显示视频流</span>
</span></span><span style=display:flex><span>ffplay /dev/video0 <span style=color:#75715e># 基于FFmpeg和SDL库,s逐帧、p播放</span>
</span></span><span style=display:flex><span>ffplay -x <span style=color:#ae81ff>640</span> -y <span style=color:#ae81ff>480</span> -framerate <span style=color:#ae81ff>30</span> /dev/video0
</span></span><span style=display:flex><span>ffplay /dev/video0 -stats <span style=color:#75715e># 显示分辨率和帧率,终端中</span>
</span></span><span style=display:flex><span>ffplay /dev/video0 -pix_fmt yuv422p <span style=color:#75715e># mjpeg</span>
</span></span><span style=display:flex><span>vlc v4l2:///dev/video0
</span></span><span style=display:flex><span>ffprobe /dev/video0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 视频保存</span>
</span></span><span style=display:flex><span>ffmpeg -f v4l2 -i /dev/video0 -f mp4 ouqtput.mp4 <span style=color:#75715e># recommend</span>
</span></span><span style=display:flex><span>ffmpeg -f v4l2 -i /dev/video0 -vcodec libx264 -pixfmt yuv420p mycamera.h264
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --stream-mmap --stream-to<span style=color:#f92672>=</span>output.yuv --stream-count<span style=color:#f92672>=</span><span style=color:#ae81ff>300</span>
</span></span><span style=display:flex><span>mplayer tv:// -tv device<span style=color:#f92672>=</span>/dev/video0 -dumpstream -dumpfile output.ts
</span></span><span style=display:flex><span>cv2.VideoWriter<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;output.avi&#39;</span>, fourcc, 20.0, <span style=color:#f92672>(</span>640, 480<span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 图像保存</span>
</span></span><span style=display:flex><span>v4l2-ctl --device<span style=color:#f92672>=</span>/dev/video0 --capture --file<span style=color:#f92672>=</span>test.jpg
</span></span><span style=display:flex><span>ffmpeg -f v4l2 -i /dev/video0 -vframes <span style=color:#ae81ff>1</span> test.jpg <span style=color:#75715e># or .png</span>
</span></span><span style=display:flex><span>ffmpeg -f v4l2 -i /dev/video0 -vf <span style=color:#e6db74>&#34;scale=1920:1080&#34;</span> -vframes <span style=color:#ae81ff>1</span> image.jpg
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- f v4l2 指定输入格式为 V4L2（Video <span style=color:#66d9ef>for</span> Linux 2）。
</span></span><span style=display:flex><span>-i /dev/video0 指定输入设备（通常是 /dev/video0，可以根据实际设备更改）。
</span></span><span style=display:flex><span>-vframes <span style=color:#ae81ff>1</span> 指定仅捕获一帧图像。
</span></span><span style=display:flex><span>test.jpg 为输出文件名。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 图像信息</span>
</span></span><span style=display:flex><span>sudo apt install exiftool
</span></span><span style=display:flex><span>exiftool test.jpg
</span></span><span style=display:flex><span>ffmpeg -i test.jpg
</span></span><span style=display:flex><span>ffprobe test.jpg
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 视频信息</span>
</span></span><span style=display:flex><span>exiftool &lt;文件名&gt;
</span></span><span style=display:flex><span>ffprobe &lt;文件名&gt;
</span></span><span style=display:flex><span>mediainfo &lt;文件名&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 提取视频帧</span>
</span></span><span style=display:flex><span>ffmpeg -i input.mp4 -vframes <span style=color:#ae81ff>1</span> -vf <span style=color:#e6db74>&#34;select=&#39;eq(n,0)&#39;&#34;</span> output.png <span style=color:#75715e># 提取第一帧</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 视频剪辑</span>
</span></span><span style=display:flex><span>ffmpeg -i input.mp4 -t <span style=color:#ae81ff>115</span> -c copy output.mp4
</span></span><span style=display:flex><span>ffmpeg -i input.mp4 -t <span style=color:#ae81ff>115</span> output.mp4 <span style=color:#75715e># 重新编码</span>
</span></span></code></pre></div><h1 id=文件传输拷贝同步-rsync>文件传输/拷贝/同步 rsync</h1><p><a href="https://www.notion.so/rsync-1cde4020f06080608d05ec983fe17274?pvs=21" target=_blank rel="noopener noreffer">文件传输/拷贝/同步 rsync</a></p><p>cp -a 保留归档信息（<code>archive</code>）</p><h2 id=scp>scp</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install lrzsz
</span></span><span style=display:flex><span>scp
</span></span><span style=display:flex><span>rsync
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 本地到远程</span>
</span></span><span style=display:flex><span>$scp local_file remote_username@remote_ip:remote_folder 
</span></span><span style=display:flex><span>$scp local_file remote_username@remote_ip:remote_file
</span></span><span style=display:flex><span>scp -P <span style=color:#ae81ff>2222</span> localfile user@remotehost:/path/to/destination
</span></span><span style=display:flex><span>$scp -r local_folder remote_username@remote_ip:remote_folder
</span></span><span style=display:flex><span>scp -P <span style=color:#ae81ff>2222</span> -r myfolder user@192.168.1.100:/home/user/newfolder <span style=color:#75715e># rename</span>
</span></span></code></pre></div><p><a href="https://linuxtools-rst.readthedocs.io/zh-cn/latest/tool/scp.html#:~:text=scp%E6%98%AFsecure%20copy%E7%9A%84,%E4%BD%A0%E6%8A%8A%E6%96%87%E4%BB%B6%E7%A7%BB%E5%87%BA%E6%9D%A5%E3%80%82" target=_blank rel="noopener noreffer">https://linuxtools-rst.readthedocs.io/zh-cn/latest/tool/scp.html#:~:text=scp%E6%98%AFsecure%20copy%E7%9A%84,%E4%BD%A0%E6%8A%8A%E6%96%87%E4%BB%B6%E7%A7%BB%E5%87%BA%E6%9D%A5%E3%80%82</a></p><p><a href=https://www.linuxrumen.com/rmxx/1336.html target=_blank rel="noopener noreffer">scp复制文件时排除指定文件</a></p><h2 id=rsync>rsync</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>rsync <span style=color:#f92672>-</span>avz <span style=color:#f92672>-</span>n <span style=color:#f92672>-</span>h <span style=color:#f92672>.</span> <span style=color:#ae81ff>43.138.116.20</span>:<span style=color:#f92672>~/</span>pics <span style=color:#75715e># 同步当前目录与远程服务器目录（DRY RUN）</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>avzP <span style=color:#f92672>-</span>nh stellar_web_recon<span style=color:#f92672>/</span> stellar_engine_web_reconstruction<span style=color:#f92672>/</span> <span style=color:#f92672>--</span>exclude <span style=color:#f92672>.</span>git <span style=color:#75715e># 排除所有.git</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>e <span style=color:#e6db74>&#34;ssh -p 2222&#34;</span> <span style=color:#f92672>-</span>avz <span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>zhaoyun<span style=color:#f92672>/</span>YFJ<span style=color:#f92672>/</span>python<span style=color:#f92672>/</span>sediment<span style=color:#f92672>/</span>deeplearning<span style=color:#f92672>/</span>Keras<span style=color:#f92672>-</span>Semantic<span style=color:#f92672>-</span>Segmentation<span style=color:#f92672>/</span>utils<span style=color:#f92672>/</span> yfjie<span style=color:#f92672>@</span><span style=color:#ae81ff>43.139.81.212</span>:<span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>yfjie<span style=color:#f92672>/</span>Documents<span style=color:#f92672>/</span>python<span style=color:#f92672>/</span>Keras<span style=color:#f92672>-</span>Semantic<span style=color:#f92672>-</span>Segmentation<span style=color:#f92672>/</span>utils <span style=color:#f92672>--</span>delete
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>e <span style=color:#e6db74>&#34;ssh -p 2222&#34;</span> <span style=color:#f92672>-</span>avz yfjie<span style=color:#f92672>@</span><span style=color:#ae81ff>43.139.81.212</span>:<span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>yfjie<span style=color:#f92672>/</span>Documents<span style=color:#f92672>/</span>python<span style=color:#f92672>/</span>Keras<span style=color:#f92672>-</span>Semantic<span style=color:#f92672>-</span>Segmentation<span style=color:#f92672>/</span>utils tmp<span style=color:#f92672>/</span> <span style=color:#f92672>--</span>exclude <span style=color:#f92672>*</span>cache<span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>e <span style=color:#e6db74>&#34;ssh -p 2222&#34;</span> <span style=color:#f92672>-</span>avz <span style=color:#f92672>-</span>n <span style=color:#f92672>-</span>h <span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>zhaoyun<span style=color:#f92672>/</span>YFJ<span style=color:#f92672>/</span>python<span style=color:#f92672>/</span>sediment<span style=color:#f92672>/</span>deeplearning<span style=color:#f92672>/</span>Keras<span style=color:#f92672>-</span>Semantic<span style=color:#f92672>-</span>Segmentation<span style=color:#f92672>/</span> yfjie<span style=color:#f92672>@</span><span style=color:#ae81ff>43.139.81.212</span>:<span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>yfjie<span style=color:#f92672>/</span>Documents<span style=color:#f92672>/</span>python<span style=color:#f92672>/</span>Keras<span style=color:#f92672>-</span>Semantic<span style=color:#f92672>-</span>Segmentation<span style=color:#f92672>/</span> <span style=color:#f92672>--</span>exclude weights <span style=color:#f92672>--</span>exclude data <span style=color:#f92672>--</span>exclude <span style=color:#f92672>.</span>idea <span style=color:#f92672>--</span>exclude <span style=color:#f92672>*</span>cache<span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>e <span style=color:#e6db74>&#34;ssh -p 2222&#34;</span> <span style=color:#f92672>-</span>avz <span style=color:#f92672>-</span>n <span style=color:#f92672>-</span>h yfjie<span style=color:#f92672>@</span><span style=color:#ae81ff>43.139.81.212</span>:<span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>yfjie<span style=color:#f92672>/</span>Documents<span style=color:#f92672>/</span>slam<span style=color:#f92672>/</span>ORB_SLAM2 <span style=color:#f92672>/</span>share<span style=color:#f92672>/</span>QTE<span style=color:#f92672>/</span>YFJ<span style=color:#f92672>/</span>SLAM<span style=color:#f92672>/</span>ORB_SLAM2 <span style=color:#f92672>--</span>exclude Vocabulary <span style=color:#f92672>--</span>exclude <span style=color:#f92672>.</span>idea
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>--</span>include image <span style=color:#f92672>--</span>exclude <span style=color:#e6db74>&#34;/*&#34;</span> <span style=color:#75715e># 仅同步image目录</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>av <span style=color:#f92672>--</span>exclude<span style=color:#f92672>-</span>from<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;exclude.txt&#39;</span> user<span style=color:#a6e22e>@remote</span>:<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>projectA<span style=color:#f92672>/</span> <span style=color:#f92672>./</span>projectA<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>注意事项  
</span></span><span style=display:flex><span>源路径斜杠 (<span style=color:#f92672>/</span>) 的影响 <span style=color:#960050;background-color:#1e0010>：</span> <span style=color:#e6db74>&#34;带 / 复制内容，不带 / 复制整个目录&#34;</span>
</span></span><span style=display:flex><span>本地同步 时<span style=color:#960050;background-color:#1e0010>，</span>目标路径的 <span style=color:#f92672>/</span> 基本无影响<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>远程同步 时<span style=color:#960050;background-color:#1e0010>，</span>目标路径的 <span style=color:#f92672>/</span> 可能会影响路径解析<span style=color:#960050;background-color:#1e0010>，</span>复制到符号链接指向的位置<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 加速传输</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>avzP <span style=color:#f92672>/</span>path<span style=color:#f92672>/</span>to<span style=color:#f92672>/</span>bigfile user<span style=color:#a6e22e>@remote_ip</span>:<span style=color:#f92672>/</span>target<span style=color:#f92672>/</span>dir<span style=color:#f92672>/</span> <span style=color:#75715e># 显示进度 + 支持断点续传</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>avz <span style=color:#f92672>--</span>progress <span style=color:#f92672>--</span>partial <span style=color:#f92672>--</span>inplace <span style=color:#f92672>--</span>compress<span style=color:#f92672>-</span>level<span style=color:#f92672>=</span><span style=color:#ae81ff>9</span> <span style=color:#f92672>/</span>path<span style=color:#f92672>/</span>to<span style=color:#f92672>/</span>file user<span style=color:#a6e22e>@remote</span>:<span style=color:#f92672>/</span>dest<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>rsync <span style=color:#f92672>-</span>vP <span style=color:#f92672>--</span>block<span style=color:#f92672>-</span>size<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>M <span style=color:#f92672>--</span>inplace <span style=color:#f92672>--</span>no<span style=color:#f92672>-</span>checksum <span style=color:#f92672>/</span>path<span style=color:#f92672>/</span>to<span style=color:#f92672>/</span>file user<span style=color:#a6e22e>@remote</span>:<span style=color:#f92672>/</span>dest<span style=color:#f92672>/</span> <span style=color:#75715e># 单个大文件</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       
</span></span></code></pre></div><h1 id=文件查找-find-grep-locate>文件查找 find grep locate</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ae81ff>1</span><span style=color:#960050;background-color:#1e0010>、</span>find
</span></span><span style=display:flex><span>find <span style=color:#f92672>.</span> <span style=color:#f92672>-</span>iname <span style=color:#e6db74>&#34;stripe_locs.png&#34;</span> <span style=color:#f92672>-</span>exec ls <span style=color:#f92672>-</span>l {} \; <span style=color:#75715e># 并显示文件大小</span>
</span></span><span style=display:flex><span>find <span style=color:#f92672>.</span> <span style=color:#f92672>-</span>type f <span style=color:#f92672>-</span>name <span style=color:#e6db74>&#34;*.sh&#34;</span> <span style=color:#75715e># 查找文件</span>
</span></span><span style=display:flex><span>find <span style=color:#f92672>/</span>media<span style=color:#f92672>/</span>yfjie<span style=color:#f92672>/</span> <span style=color:#f92672>-</span>type d <span style=color:#f92672>-</span>iname lsy <span style=color:#75715e># 查找目录</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span><span style=color:#960050;background-color:#1e0010>、</span>locate
</span></span><span style=display:flex><span>sudo apt install mlocate
</span></span><span style=display:flex><span>sudo updatedb
</span></span><span style=display:flex><span>sudo vim <span style=color:#f92672>/</span>etc<span style=color:#f92672>/</span>updatedb<span style=color:#f92672>.</span>conf <span style=color:#75715e># PRUNEPATHS 排除路径</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>locate <span style=color:#f92672>-</span>i wljslmz<span style=color:#f92672>.</span>ppt <span style=color:#75715e># 忽略大小写</span>
</span></span><span style=display:flex><span>locate <span style=color:#f92672>*.</span>ppt
</span></span><span style=display:flex><span>locate <span style=color:#f92672>-</span>n <span style=color:#ae81ff>20</span> <span style=color:#e6db74>&#39;*.ppt&#39;</span> <span style=color:#75715e># 查找20条</span>
</span></span><span style=display:flex><span>locate <span style=color:#f92672>-</span>c <span style=color:#e6db74>&#39;*.ppt&#39;</span> <span style=color:#75715e># 统计数量</span>
</span></span><span style=display:flex><span>locate <span style=color:#f92672>-</span>r <span style=color:#e6db74>&#39;/dirname$&#39;</span> <span style=color:#75715e># 仅查找目录</span>
</span></span><span style=display:flex><span>locate <span style=color:#f92672>-</span>b test_locate<span style=color:#f92672>.</span>txt <span style=color:#75715e># 仅basenanme</span>
</span></span><span style=display:flex><span>P<span style=color:#f92672>.</span>S<span style=color:#f92672>.</span> 搜索ntfs磁盘updatedb时会报错<span style=color:#960050;background-color:#1e0010>（</span>段错误<span style=color:#960050;background-color:#1e0010>）</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span><span style=color:#960050;background-color:#1e0010>、</span>grep
</span></span><span style=display:flex><span>grep <span style=color:#f92672>-</span>r <span style=color:#e6db74>&#34;keyword&#34;</span> <span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>user<span style=color:#f92672>/</span>documents<span style=color:#f92672>/*</span> <span style=color:#75715e># 递归搜索</span>
</span></span><span style=display:flex><span>grep <span style=color:#e6db74>&#34;verify 0&#34;</span> <span style=color:#f92672>-</span>r <span style=color:#f92672>-</span>n <span style=color:#f92672>.</span> <span style=color:#75715e># 当前目录下递归搜索并显示行号</span>
</span></span><span style=display:flex><span>grep <span style=color:#f92672>-</span>rn <span style=color:#f92672>--</span>include<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;*.py&#34;</span> <span style=color:#e6db74>&#34;keyword&#34;</span> <span style=color:#f92672>/</span>path<span style=color:#f92672>/</span>to<span style=color:#f92672>/</span>your<span style=color:#f92672>/</span>code
</span></span><span style=display:flex><span>grep <span style=color:#f92672>-</span>rn <span style=color:#f92672>--</span>include<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;*.{py,txt}&#34;</span> <span style=color:#e6db74>&#34;keyword&#34;</span> <span style=color:#f92672>/</span>path<span style=color:#f92672>/</span>to<span style=color:#f92672>/</span>your<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>rg <span style=color:#f92672>-</span>rn <span style=color:#e6db74>&#34;keyword&#34;</span> <span style=color:#f92672>-</span>t py <span style=color:#f92672>/</span>path<span style=color:#f92672>/</span>to<span style=color:#f92672>/</span>your<span style=color:#f92672>/</span>codecode <span style=color:#75715e># ripgrep</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>grep <span style=color:#e6db74>&#34;get_panorama.py&#34;</span> <span style=color:#f92672>-</span>r <span style=color:#f92672>-</span>n evt21<span style=color:#f92672>/</span>test3<span style=color:#f92672>/</span>logs<span style=color:#f92672>/</span> <span style=color:#f92672>&gt;</span> not_saveimg<span style=color:#f92672>.</span>txt
</span></span><span style=display:flex><span>grep <span style=color:#f92672>-</span>i <span style=color:#e6db74>&#34;pattern&#34;</span> file<span style=color:#f92672>.</span>txt <span style=color:#75715e># 不区分大小写</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>i <span style=color:#75715e>#不区分大小写</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>n <span style=color:#75715e>#显示行号</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 递归筛选并按大小排序</span>
</span></span><span style=display:flex><span>find <span style=color:#f92672>.</span> <span style=color:#f92672>-</span>type f <span style=color:#f92672>-</span>name <span style=color:#e6db74>&#34;*.py&#34;</span> <span style=color:#f92672>-</span>exec ls <span style=color:#f92672>-</span>lhS {} <span style=color:#f92672>+</span> <span style=color:#f92672>|</span> sort <span style=color:#f92672>-</span>k <span style=color:#ae81ff>5</span> <span style=color:#f92672>-</span>hr
</span></span></code></pre></div><pre tabindex=0><code>^
锚定行的开始 如：&#39;^grep&#39;匹配所有以grep开头的行。
$
锚定行的结束 如：&#39;grep$&#39;匹配所有以grep结尾的行。
</code></pre><p><a href=http://noahsnail.com/2017/02/07/2017-02-07-Linux%e7%bb%9f%e8%ae%a1%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b%e7%9a%84%e6%96%87%e4%bb%b6%e6%95%b0%e7%9b%ae/ target=_blank rel="noopener noreffer">Linux统计文件夹下的文件数目</a></p><p><a href=https://blog.csdn.net/xyznol/article/details/54967303 target=_blank rel="noopener noreffer">find命令并显示文件大小_find 显示文件大小_唐木的博客-CSDN博客</a></p><h1 id=文件比较>文件比较</h1><p><a href="https://www.notion.so/c8a5f3f62247429e95921f16916c3995?pvs=21" target=_blank rel="noopener noreffer">文件比较</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>diff -r /path/to/dir1 /path/to/dir2
</span></span><span style=display:flex><span>diff -rs --color<span style=color:#f92672>=</span>always 目录1 目录2 | less -R <span style=color:#75715e># 详细内容差异对比</span>
</span></span><span style=display:flex><span>diff -r --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;.git&#39;</span> projectA/ projectB/ <span style=color:#75715e># 目录排除,-x</span>
</span></span><span style=display:flex><span>diff -r --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;__pycache__&#39;</span> --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;*.log&#39;</span> dir1/ dir2/ <span style=color:#75715e># 通配符排除</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>rsync -avnc /path/to/dir1/ /path/to/dir2/
</span></span><span style=display:flex><span>rsync -avnc -Ph /path/to/dir1/ /path/to/dir2/
</span></span></code></pre></div><h1 id=文件移动>文件移动</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 批量移动</span>
</span></span><span style=display:flex><span>mv folder_<span style=color:#f92672>{</span>21..100<span style=color:#f92672>}</span> ..
</span></span><span style=display:flex><span>mkdir $USER
</span></span><span style=display:flex><span>mkdir <span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h1 id=文字处理>文字处理</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 去除空行</span>
</span></span><span style=display:flex><span>sed <span style=color:#e6db74>&#39;/^\s*$/d&#39;</span> input.txt &gt; output.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 文件批量重命名</span>
</span></span><span style=display:flex><span>sudo apt install rename （Perl 版本）
</span></span><span style=display:flex><span>rename <span style=color:#e6db74>&#39;s/old/new/&#39;</span> *
</span></span></code></pre></div><h1 id=日志输出>日志输出</h1><p><a href="https://www.notion.so/19fe4020f06080fd8576c89e31feb19f?pvs=21" target=_blank rel="noopener noreffer">日志输出</a></p><p><a href=https://www.jianshu.com/p/ad879061edb2 target=_blank rel="noopener noreffer">https://www.jianshu.com/p/ad879061edb2</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>**一、基础重定向，终端不显示**
</span></span><span style=display:flex><span><span style=color:#75715e># ****重定向的含义是改变原有输出方式</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1. 覆盖写入文件</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 仅保存标准输出（stdout）</span>
</span></span><span style=display:flex><span>command &gt; output.log
</span></span><span style=display:flex><span><span style=color:#75715e># 同时保存标准输出和错误输出（stdout + stderr）</span>
</span></span><span style=display:flex><span>command &gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span>   <span style=color:#75715e># 写法1 **通用**</span>
</span></span><span style=display:flex><span>command &amp;&gt; output.log       <span style=color:#75715e># 写法2（Bash特有）</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. 追加写入文件</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 追加标准输出</span>
</span></span><span style=display:flex><span>command &gt;&gt; output.log
</span></span><span style=display:flex><span><span style=color:#75715e># 追加标准输出和错误输出</span>
</span></span><span style=display:flex><span>command &gt;&gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>command &amp;&gt;&gt; output.log      <span style=color:#75715e># Bash特有</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**二、实时输出并保存（tee命令）**
</span></span><span style=display:flex><span><span style=color:#75715e># 同时显示输出并写入文件（覆盖旧内容）</span>
</span></span><span style=display:flex><span>command | tee output.log
</span></span><span style=display:flex><span><span style=color:#75715e># 同时保存标准输出和错误输出</span>
</span></span><span style=display:flex><span>command 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee output.log
</span></span><span style=display:flex><span><span style=color:#75715e># 追加内容到文件</span>
</span></span><span style=display:flex><span>command | tee -a output.log
</span></span><span style=display:flex><span><span style=color:#75715e># 追加并合并所有输出流</span>
</span></span><span style=display:flex><span>command 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee -a output.log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>**三、后台运行并记录日志**
</span></span><span style=display:flex><span><span style=color:#75715e># 输出重定向到 nohup.out（默认）</span>
</span></span><span style=display:flex><span>nohup command &amp;
</span></span><span style=display:flex><span><span style=color:#75715e># 自定义输出文件</span>
</span></span><span style=display:flex><span>nohup command &gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span> &amp;
</span></span><span style=display:flex><span><span style=color:#75715e># 后台运行并记录输出</span>
</span></span><span style=display:flex><span>command &gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span> &amp;
</span></span></code></pre></div><h2 id=几个常用命令区别>几个常用命令区别</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>command &gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span> <span style=color:#75715e># 仅输出到日志文件，运行后前台处于挂起状态，关闭终端后程序停止运行</span>
</span></span><span style=display:flex><span>command &gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span> &amp; <span style=color:#75715e># 仅输出到日志文件，运行后程序进入后台执行，关闭终端后程序停止运行，jobs -l查看</span>
</span></span><span style=display:flex><span>nohup command &gt; output.log 2&gt;&amp;<span style=color:#ae81ff>1</span> &amp; <span style=color:#75715e># 仅输出到日志文件，运行后程序进入后台执行，关闭终端后程序继续运行，ps aux | grep kywd</span>
</span></span><span style=display:flex><span>ros2 run demo_nodes_cpp talker 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee -a talker.log 
</span></span><span style=display:flex><span>nohup ros2 run demo_nodes_cpp talker 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee -a talker.log &amp; <span style=color:#75715e># 终端是单独进程的关闭终端会停止(某些终端)</span>
</span></span><span style=display:flex><span>nohup your_command 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee -a your_logfile &amp;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用disown从shell作业表移除进程，使其不受终端影响</span>
</span></span><span style=display:flex><span>ros2 run demo_nodes_cpp talker 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee -a talker.log &amp;
</span></span><span style=display:flex><span>disown -h %1  <span style=color:#75715e># %1 为作业号（通过 `jobs -l` 查看）</span>
</span></span></code></pre></div><h1 id=linux版本内核查看>Linux版本/内核查看</h1><p><a href=https://linux.cn/article-9586-1.html target=_blank rel="noopener noreffer">https://linux.cn/article-9586-1.html</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>***!!!不要自动更新
</span></span><span style=display:flex><span>!!!不要自动更新
</span></span><span style=display:flex><span>!!!不要自动更新***
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lsb_release -a <span style=color:#75715e># 推荐</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>No LSB modules are available.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Distributor ID: Ubuntu
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Description: Ubuntu 16.04.3 LTS
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Release: 16.04
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Codename: xenial
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>uname -a
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat /proc/version <span style=color:#75715e># 内核</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 列出所有内核</span>
</span></span><span style=display:flex><span>dpkg --list | grep linux-image <span style=color:#75715e># ubuntu</span>
</span></span><span style=display:flex><span>rpm -qa | grep kernel <span style=color:#75715e># CentOS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理内核</span>
</span></span><span style=display:flex><span>sudo apt remove linux-image-X.X.X-XX-generic <span style=color:#75715e># 删除旧的内核</span>
</span></span><span style=display:flex><span>sudo apt autoremove <span style=color:#75715e># 自动清理未使用的旧内核和依赖</span>
</span></span></code></pre></div><h2 id=云厂商查询>云厂商查询</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo dmidecode -t system
</span></span><span style=display:flex><span>sudo dmidecode -s system-manufacturer
</span></span><span style=display:flex><span>sudo lshw -short
</span></span></code></pre></div><h1 id=查看ip>查看ip</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>本地ip</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>hostname</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>I</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>ifconfig</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>公网ip</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>curl</span> <span style=color:#a6e22e>ifconfig</span>.<span style=color:#a6e22e>me</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>仅输出ip</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>不换行</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>curl</span> <span style=color:#a6e22e>ipinfo</span>.<span style=color:#a6e22e>io</span><span style=color:#f92672>/</span><span style=color:#a6e22e>ip</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>curl</span> <span style=color:#a6e22e>ip</span>.<span style=color:#a6e22e>sb</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>换行</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>curl</span> <span style=color:#a6e22e>cip</span>.<span style=color:#a6e22e>cc</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>提供额外信息</span>
</span></span></code></pre></div><h1 id=网络管理>网络管理</h1><h2 id=查看wifi名称>查看wifi名称</h2><p>在Linux系统中，你可以使用不同的命令来查看当前连接的WiFi网络的名称。以下是一些常用的命令：</p><pre tabindex=0><code>nmcli（NetworkManager Command Line Interface）：
</code></pre><p>nmcli connection show &ndash;active</p><p>这个命令会显示当前激活（连接）的网络连接信息，包括WiFi网络的名称。如果你正在使用 NetworkManager 来管理网络连接，这是一个很方便的命令。</p><p>iwconfig：</p><p>bash</p><p>iwconfig</p><p>iwconfig 命令显示当前无线网络接口的信息，包括连接的WiFi网络的名称（ESSID）。但是，该命令在一些新的系统上可能已经被弃用，而 nmcli 更为推荐。</p><p>iw：</p><p>bash</p><pre tabindex=0><code>iw dev

iw 命令也是一个用于配置和显示无线设备信息的工具。上述命令显示当前无线设备的详细信息，其中包括连接的WiFi网络的名称。
</code></pre><p>请注意，具体命令的可用性和输出可能因Linux发行版和使用的网络管理工具而有所不同。在大多数现代Linux系统中，nmcli 是一个强大而通用的工具，而在一些老旧系统中，可能需要使用其他命令。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nmcli
</span></span><span style=display:flex><span>nmcli connection show --active
</span></span><span style=display:flex><span>nmcli -t -f active,ssid dev wifi | grep yes
</span></span><span style=display:flex><span>nmcli dev wifi list
</span></span><span style=display:flex><span>iwconfig
</span></span><span style=display:flex><span>iw
</span></span><span style=display:flex><span>iw dev
</span></span><span style=display:flex><span>iwgetid -r
</span></span></code></pre></div><h1 id=系统时间时区>系统时间/时区</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>date
</span></span><span style=display:flex><span>timedatectl
</span></span></code></pre></div><h1 id=目录大小统计>目录大小/统计</h1><p><a href="https://blog.csdn.net/duan19920101/article/details/104823301#:~:text=du%E5%91%BD%E4%BB%A4%E7%94%A8%E4%BA%8E%E6%98%BE%E7%A4%BA,%E6%89%80%E5%8D%A0%E7%94%A8%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E3%80%82" target=_blank rel="noopener noreffer">Linux查看文件或文件夹大小: du命令_那年聪聪的博客-CSDN博客_linux查看文件夹大小</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>du
</span></span><span style=display:flex><span>du -h -d <span style=color:#ae81ff>1</span> <span style=color:#75715e># 第一级目录</span>
</span></span><span style=display:flex><span>du -m -d <span style=color:#ae81ff>1</span> <span style=color:#75715e># 以MB单位显示</span>
</span></span><span style=display:flex><span>du -sh <span style=color:#75715e># 总空间</span>
</span></span><span style=display:flex><span>du -sh <span style=color:#f92672>&amp;&amp;</span> find . -type f | wc -l <span style=color:#75715e># 同时查看文件数</span>
</span></span><span style=display:flex><span>find /目标路径 -maxdepth <span style=color:#ae81ff>1</span> -mindepth <span style=color:#ae81ff>1</span> -type d -print0 | xargs -0 -I<span style=color:#f92672>{}</span> sh -c <span style=color:#e6db74>&#39;echo &#34;{}: $(find &#34;{}&#34; -type f | wc -l)&#34;&#39;</span>
</span></span><span style=display:flex><span>find . -maxdepth <span style=color:#ae81ff>1</span> -mindepth <span style=color:#ae81ff>1</span> -type d -exec sh -c <span style=color:#e6db74>&#39;echo &#34;{}: $(find &#34;{}&#34; -type f | wc -l)&#34;&#39;</span> <span style=color:#ae81ff>\;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> d in /目标路径/*/; <span style=color:#66d9ef>do</span> echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>d%?<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#66d9ef>$(</span>find <span style=color:#e6db74>&#34;</span>$d<span style=color:#e6db74>&#34;</span> -type f | wc -l<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>统计文件数</p><p><a href=http://noahsnail.com/2017/02/07/2017-02-07-Linux%e7%bb%9f%e8%ae%a1%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b%e7%9a%84%e6%96%87%e4%bb%b6%e6%95%b0%e7%9b%ae/ target=_blank rel="noopener noreffer">Linux统计文件夹下的文件数目</a></p><p>统计各个一级子目录下所有文件数</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> dir in /path/to/directory/*/; <span style=color:#66d9ef>do</span> echo -n <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>: &#34;</span>; find <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>&#34;</span> -type f | wc -l;<span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>让我们逐步解释这个命令：</p><ul><li><code>for dir in /path/to/directory/*/; do</code>: 这部分命令用于遍历指定目录下的每个一级子目录。</li><li><code>find "$dir" -type f</code>: 这部分命令用于在当前子目录中查找所有的文件。</li><li><code>| wc -l</code>: 这部分命令用于统计文件的数量。</li></ul><p>通过使用这个<code>for</code>循环，你可以一次性地统计每个一级子目录下所有文件的数量。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 筛选特定类型</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> dir in ./*/; <span style=color:#66d9ef>do</span> echo -n <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>: &#34;</span>; find <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>&#34;</span> -maxdepth <span style=color:#ae81ff>1</span> -type f -iname <span style=color:#e6db74>&#34;*.txt&#34;</span> | wc -l; <span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h1 id=目录树打印>目录树打印</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>tree
</span></span><span style=display:flex><span>tree -L <span style=color:#ae81ff>2</span> <span style=color:#75715e># 指定层级</span>
</span></span><span style=display:flex><span>tree -l -u -g -s -D --du /path/to/directory &gt; output.txt <span style=color:#75715e># 详细信息</span>
</span></span></code></pre></div><p><a href=https://www.runoob.com/linux/linux-comm-tree.html target=_blank rel="noopener noreffer">Linux tree命令 | 菜鸟教程</a></p><h1 id=快捷打开目录>快捷打开目录</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nautilus /path/to/directory
</span></span><span style=display:flex><span>xdg-open /path/to/directory
</span></span></code></pre></div><h1 id=硬件信息>硬件信息</h1><p><a href=https://www.jianshu.com/p/7181f1d09339 target=_blank rel="noopener noreffer">Ubuntu查看硬件配置</a></p><p>cpu:</p><p><code>cat /proc/cpuinfo | grep model\ name</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install cpuinfo
</span></span><span style=display:flex><span>cpu-info
</span></span></code></pre></div><p>显卡:</p><p>lspci | grep -i vga</p><p>watch -n 1 nvidia-smi</p><p>查看所有（第三方库）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install screenfetch
</span></span><span style=display:flex><span>screenfetch
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo apt install neofetch
</span></span><span style=display:flex><span>neofetch
</span></span></code></pre></div><p><a href=https://www.51cto.com/article/714293.html target=_blank rel="noopener noreffer"></a></p><p><a href=https://www.cnblogs.com/gcstsz/p/16213646.html target=_blank rel="noopener noreffer">https://www.cnblogs.com/gcstsz/p/16213646.html</a></p><p><a href=https://www.cnblogs.com/gcstsz/p/16213646.html target=_blank rel="noopener noreffer">CentOS 7如何安装Neofetch</a></p><p><a href=https://www.cnblogs.com/liangjiongyao/p/10134513.html target=_blank rel="noopener noreffer">CentOS7.6安装screenfetch</a></p><h1 id=shell>Shell</h1><p><a href="https://www.notion.so/Shell-47380679f631425798a9348b997d0eec?pvs=21" target=_blank rel="noopener noreffer">Shell</a></p><h2 id=四种执行方式>四种执行方式</h2><p><a href=https://www.jianshu.com/p/46666ced3bc0 target=_blank rel="noopener noreffer">https://www.jianshu.com/p/46666ced3bc0</a></p><p><a href=https://www.jianshu.com/p/46666ced3bc0 target=_blank rel="noopener noreffer">Linux下四种方式执行.sh文件的区别</a></p><h2 id=刷新shell>刷新shell</h2><p><code>source ~/.bashrc</code></p><p>. ~/.bashrc</p><h2 id=查看更改shell>查看、更改shell</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#查看当前所使用的shell</span>
</span></span><span style=display:flex><span>echo $SHELL <span style=color:#75715e># Recommend，必须大写</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${</span>SHELL<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>echo $0
</span></span><span style=display:flex><span><span style=color:#75715e>#查看当前用户可以使用的shell</span>
</span></span><span style=display:flex><span>cat /etc/shells
</span></span><span style=display:flex><span><span style=color:#75715e>#查看所有用户使用的shell</span>
</span></span><span style=display:flex><span>vim /etc/passwd 
</span></span><span style=display:flex><span><span style=color:#75715e># 设置shell类型</span>
</span></span><span style=display:flex><span>chsh -s /bin/bash
</span></span><span style=display:flex><span>sudo chsh -s /bin/bash username
</span></span><span style=display:flex><span>sudo vim /etc/passwd <span style=color:#75715e># 直接编辑</span>
</span></span></code></pre></div><h2 id=新建终端并执行命令>新建终端并执行命令</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gnome-terminal --title <span style=color:#e6db74>&#34;run matlab&#34;</span> -- bash -c <span style=color:#e6db74>&#34;echo </span>$exec<span style=color:#e6db74>;</span>$exec<span style=color:#e6db74> -x&#34;</span>
</span></span></code></pre></div><h1 id=压缩解压>压缩/解压</h1><p><a href="https://www.notion.so/f037aef6c76c44728ddc657ec3132c12?pvs=21" target=_blank rel="noopener noreffer">压缩/解压</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ae81ff>1</span> <span style=color:#75715e># zip</span>
</span></span><span style=display:flex><span><span style=color:#75715e># zip [选项] 压缩包名 源文件或源目录列表</span>
</span></span><span style=display:flex><span>tar <span style=color:#f92672>-</span>zcvf test<span style=color:#f92672>.</span>tar<span style=color:#f92672>.</span>gz <span style=color:#f92672>./</span>test <span style=color:#75715e># 推荐用于 Linux 归档与备份</span>
</span></span><span style=display:flex><span>zip <span style=color:#f92672>-</span>r archive_name<span style=color:#f92672>.</span>zip folder_name<span style=color:#f92672>/</span> <span style=color:#75715e># 跨平台友好</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span> <span style=color:#75715e># unzip</span>
</span></span><span style=display:flex><span>tar <span style=color:#f92672>-</span>zxvf abc<span style=color:#f92672>.</span>tgz
</span></span><span style=display:flex><span>unzip
</span></span><span style=display:flex><span>unzip example<span style=color:#f92672>.</span>zip <span style=color:#f92672>-</span>d extracted <span style=color:#75715e># 指定目录</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span> <span style=color:#75715e># unrar</span>
</span></span><span style=display:flex><span>unrar x test<span style=color:#f92672>.</span>rar <span style=color:#75715e># 默认当前目录</span>
</span></span><span style=display:flex><span>unrar x example<span style=color:#f92672>.</span>rar <span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>user<span style=color:#f92672>/</span>documents
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>4</span> <span style=color:#75715e># sudo apt install xz-utils</span>
</span></span><span style=display:flex><span>xz <span style=color:#f92672>-</span>d xxx<span style=color:#f92672>.</span>tar<span style=color:#f92672>.</span>xz <span style=color:#75715e># 会首先解压为tar文件</span>
</span></span><span style=display:flex><span>which xz
</span></span><span style=display:flex><span>whersis xz
</span></span><span style=display:flex><span>dpkg <span style=color:#f92672>-</span>l <span style=color:#f92672>|</span> gerp xz
</span></span></code></pre></div><h1 id=文件下载>文件下载</h1><p><a href="https://www.notion.so/1cde4020f060804ba4b3cd9f307fd708?pvs=21" target=_blank rel="noopener noreffer">文件下载</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 基础下载</span>
</span></span><span style=display:flex><span>wget URL                 <span style=color:#75715e># 下载单个文件</span>
</span></span><span style=display:flex><span>wget -c URL              <span style=color:#75715e># 断点续传</span>
</span></span><span style=display:flex><span>time wget URL            <span style=color:#75715e># 显示时间</span>
</span></span><span style=display:flex><span>curl -O URL  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 多线程加速</span>
</span></span><span style=display:flex><span>aria2c -c -x <span style=color:#ae81ff>16</span> -s <span style=color:#ae81ff>16</span> URL
</span></span><span style=display:flex><span>aria2c -x <span style=color:#ae81ff>16</span> -s <span style=color:#ae81ff>16</span> -k 1M -c URL
</span></span><span style=display:flex><span>-x <span style=color:#ae81ff>16</span> 多线程（最多 <span style=color:#ae81ff>16</span> 线程）
</span></span><span style=display:flex><span>-s <span style=color:#ae81ff>16</span> 连接数（16 个并行连接）
</span></span><span style=display:flex><span>-k 1M 每个连接最小分块 1MB
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 适用于服务器文件同步和大文件下载，支持断点续传</span>
</span></span><span style=display:flex><span>rsync -avz --progress user@server:/path/to/file localfile
</span></span><span style=display:flex><span>-a 保持权限
</span></span><span style=display:flex><span>-v 显示详细信息
</span></span><span style=display:flex><span>-z 压缩传输
</span></span><span style=display:flex><span>--progress 显示进度
</span></span></code></pre></div><p><a href=https://linux.cn/article-8124-1.html target=_blank rel="noopener noreffer">https://linux.cn/article-8124-1.html</a></p><p><a href=https://linux.cn/article-8124-1.html target=_blank rel="noopener noreffer">分享|4 个 Linux 下最好的命令行下载管理器/加速器</a></p><p><a href=https://cloud.tencent.com/developer/article/1852397 target=_blank rel="noopener noreffer">https://cloud.tencent.com/developer/article/1852397</a></p><p><a href=https://cloud.tencent.com/developer/article/1852397 target=_blank rel="noopener noreffer">Linux curl 命令下载文件</a></p><h1 id=防火墙>防火墙</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看防火墙状态</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 首先查看防火墙是否开启，如未开启，需要先开启防火墙并作开机自启</span>
</span></span><span style=display:flex><span>sudo ufw status <span style=color:#75715e># Debian系 默认防火墙工具</span>
</span></span><span style=display:flex><span>sudo firewall-cmd --state <span style=color:#75715e>#  Red Hat系 默认防火墙工具</span>
</span></span><span style=display:flex><span>sudo systemctl status firewalld
</span></span><span style=display:flex><span>sudo iptables -L <span style=color:#75715e># 防火墙底层工具，灵活性和精细控制</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 开启防火墙并设置开机自启</span>
</span></span><span style=display:flex><span>sudo ufw enable
</span></span><span style=display:flex><span>systemctl start firewalld
</span></span><span style=display:flex><span>systemctl enable firewalld
</span></span><span style=display:flex><span><span style=color:#75715e>#一般需要重启一下机器，不然后面做的设置可能不会生效</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 关闭防火墙</span>
</span></span><span style=display:flex><span>sudo ufw disable
</span></span><span style=display:flex><span>sudo systemctl stop firewalld
</span></span><span style=display:flex><span>sudo iptables -F <span style=color:#75715e># 细粒度配置</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 允许局域网通过防火墙，这个范围包含从 192.168.0.1 到 192.168.0.254 的所有 IP 地址</span>
</span></span><span style=display:flex><span>sudo ufw allow from 192.168.31.0/24
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 高级用法</span>
</span></span><span style=display:flex><span>sudo ss -tulpn | grep <span style=color:#ae81ff>3000</span>
</span></span><span style=display:flex><span>sudo lsof -i :3000
</span></span><span style=display:flex><span>sudo ufw status verbose
</span></span><span style=display:flex><span>sudo ufw status numbered
</span></span><span style=display:flex><span>sudo ufw delete <span style=color:#f92672>[</span>规则编号<span style=color:#f92672>]</span> <span style=color:#75715e># 即时生效</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 开放端口</span>
</span></span><span style=display:flex><span>firewall-cmd --zone<span style=color:#f92672>=</span>public --add-port<span style=color:#f92672>=</span>7000/tcp --permanent
</span></span><span style=display:flex><span><span style=color:#75715e># firewall-cmd --permanent --add-port=7000/tcp</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看开放端口列表</span>
</span></span><span style=display:flex><span>firewall-cmd --permanent --zone<span style=color:#f92672>=</span>public --list-ports
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 防火墙reload</span>
</span></span><span style=display:flex><span>firewall-cmd --reload
</span></span></code></pre></div><p>关闭电脑防火墙可能会带来一些安全和隐私方面的危害。防火墙是一种网络安全工具，用于监控和控制计算机与网络之间的通信，目的是阻止潜在的恶意流量。关闭防火墙可能导致以下问题：</p><pre tabindex=0><code>网络攻击： 开放的计算机端口和服务更容易受到网络攻击。关闭防火墙可能会使计算机容易受到恶意扫描、端口扫描和其他攻击。

病毒和恶意软件： 恶意软件通常会利用计算机的漏洞进行入侵。关闭防火墙可能增加恶意软件感染的风险，因为它可以更容易地通过网络传播。

未授权访问： 没有防火墙的计算机可能容易受到未授权访问。黑客可能能够远程访问你的计算机，查看或修改你的文件，甚至控制你的系统。

隐私问题： 关闭防火墙可能导致个人信息泄露。一些恶意软件和攻击者可能利用计算机上的漏洞来获取用户的个人信息。

网络干扰： 在没有防火墙的情况下，网络流量可能会更容易受到干扰，可能导致网络连接不稳定或变得更慢。
</code></pre><p>在安全性方面，强烈建议保持计算机防火墙的开启状态，以减少网络风险。如果有必要关闭防火墙，应该仅在可信任的网络环境中，并在必要时限制计算机上的服务和端口的访问。在任何情况下，最好的做法是根据实际需求配置防火墙规则，而不是完全禁用防火墙。</p><h1 id=service相关>Service相关</h1><p>查看服务安装路径</p><p>1、先查PID</p><p>ps aux|grep nginx</p><p>2、再查路径</p><p>ls -l /proc/PID/exe</p><h1 id=systemctl>systemctl</h1><p><a href="https://www.notion.so/systemctl-1d3e4020f06080fbb17ec26edeef5ee8?pvs=21" target=_blank rel="noopener noreffer">systemctl</a></p><h1 id=查看桌面坏境>查看桌面坏境</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo $XDG_CURRENT_DESKTOP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo apt install screenfetch
</span></span><span style=display:flex><span>screenfetch
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo apt install neofetch （recommend）
</span></span><span style=display:flex><span>neofetch
</span></span></code></pre></div><p><a href=https://www.faqforge.com/linux/how-to-check-which-desktop-environment-is-used-on-linux/ target=_blank rel="noopener noreffer">https://www.faqforge.com/linux/how-to-check-which-desktop-environment-is-used-on-linux/</a></p><p><a href=https://www.faqforge.com/linux/how-to-check-which-desktop-environment-is-used-on-linux/ target=_blank rel="noopener noreffer">How to check which Desktop Environment is used on Linux</a></p><p><a href=https://zhuanlan.zhihu.com/p/133301317 target=_blank rel="noopener noreffer">如何找出你所使用的桌面环境 | Linux 中国</a></p><p><a href=https://www.cnblogs.com/kerrycode/p/4790021.html target=_blank rel="noopener noreffer">潇湘隐者</a></p><h1 id=密码管理>密码管理</h1><h2 id=修改密码>修改密码</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo passwd user_name
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>passwd
</span></span></code></pre></div><p><a href=https://blog.csdn.net/qq_43176116/article/details/88908431 target=_blank rel="noopener noreffer">Ubuntu修改登录密码_qq_43176116的博客-CSDN博客</a></p><p><a href="https://www.jianshu.com/p/a0a7645a2c2e?u_atoken=ea1f5441-7d23-472d-848a-43829d3377b1&amp;u_asession=01DVgGLz0Cq0spMvEHqpBruJCuVFgnkiiKFxvBjPPHdY6_XURtiYHd_IdGtcw9BmU8X0KNBwm7Lovlpxjd_P_q4JsKWYrT3W_NKPr8w6oU7K966AdcOpkqX3shBKwRfjspdSd2xtyR8tGtAryp6pbvRmBkFo3NEHBv0PZUm6pbxQU&amp;u_asig=0542fXvqK8gRfKwMVOlZEptbE1uSQ7-TMyJciggcm3yeUJffmPFkD7p-vBa4WwWwI7mLO3XoCn7eyEzmmeyKoHZ5X-jZftIeqOLkYI7uihjpE5Mmg0JYUludOhsEsRAnnfbaLJ9BTVL7wx1Ss7N3co9mTULnOCkWg6hAX8_t4dAef9JS7q8ZD7Xtz2Ly-b0kmuyAKRFSVJkkdwVUnyHAIJzZQ9KvbfrBcROmz0zhJhtXYZCzc77KwYS93Kh6U2cu1Iwt74LEzKVH73PIwzPMOHf-3h9VXwMyh6PgyDIVSG1W_EJoqVKI9yy0uU4HBs1Acaxn0LoX_xzVj5DWoTxavnSbFUUCVSFRn7S7lgy5hsvzVXXSZYw7y_gyjHcJCDtqEomWspDxyAEEo4kbsryBKb9Q&amp;u_aref=JbkEzUjzI%2BKXOtiFtd9KWCVytAI%3D" target=_blank rel="noopener noreffer">Linux管理员修改和查看普通用户密码</a></p><h2 id=密码过期>密码过期</h2><p><a href=https://www.cnblogs.com/machangwei-8/p/10352676.html target=_blank rel="noopener noreffer">chage命令详解 - 马昌伟 - 博客园</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>sudo chage <span style=color:#f92672>-</span>l nvidia
</span></span><span style=display:flex><span>chage [选项] 用户名
</span></span><span style=display:flex><span>选项
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>m<span style=color:#960050;background-color:#1e0010>：</span>密码可更改的最小天数<span style=color:#960050;background-color:#1e0010>。</span>为零时代表任何时候都可以更改密码<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>M<span style=color:#960050;background-color:#1e0010>：</span>密码保持有效的最大天数<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>w<span style=color:#960050;background-color:#1e0010>：</span>用户密码到期前<span style=color:#960050;background-color:#1e0010>，</span>提前收到警告信息的天数<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>E<span style=color:#960050;background-color:#1e0010>：</span>帐号到期的日期<span style=color:#960050;background-color:#1e0010>。</span>过了这天<span style=color:#960050;background-color:#1e0010>，</span>此帐号将不可用<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>d<span style=color:#960050;background-color:#1e0010>：</span>上一次更改的日期<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>i<span style=color:#960050;background-color:#1e0010>：</span>停滞时期<span style=color:#960050;background-color:#1e0010>。</span>如果一个密码已过期这些天<span style=color:#960050;background-color:#1e0010>，</span>那么此帐号将不可用<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>l<span style=color:#960050;background-color:#1e0010>：</span>例出当前的设置<span style=color:#960050;background-color:#1e0010>。</span>由非特权用户来确定他们的密码或帐号何时过期<span style=color:#960050;background-color:#1e0010>。</span>
</span></span></code></pre></div><h1 id=进程管理>进程管理</h1><p><a href="https://www.notion.so/e7186176fa3546ef80e1c34cf4e36dd7?pvs=21" target=_blank rel="noopener noreffer">进程管理</a></p><p><a href=https://img-blog.csdn.net/20170429113245014 target=_blank rel="noopener noreffer">https://img-blog.csdn.net/20170429113245014</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ps aux
</span></span><span style=display:flex><span>ps -ef
</span></span><span style=display:flex><span>top
</span></span><span style=display:flex><span>htop
</span></span></code></pre></div><h1 id=用户管理>用户管理</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /etc/passwd <span style=color:#75715e># 查看本地所有用户信息，速度快</span>
</span></span><span style=display:flex><span>getent passwd <span style=color:#75715e># 本地+网络用户信息</span>
</span></span><span style=display:flex><span>getent passwd | cut -d: -f1 <span style=color:#75715e># 只列出用户名</span>
</span></span><span style=display:flex><span>who <span style=color:#75715e># 查看当前系统中正在登录的用户</span>
</span></span><span style=display:flex><span>w <span style=color:#75715e># 同who</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>useradd -m username <span style=color:#75715e># 添加用户并创建主目录，默认无密码</span>
</span></span><span style=display:flex><span>sudo passwd username <span style=color:#75715e># 设置密码</span>
</span></span><span style=display:flex><span>sudo userdel username <span style=color:#75715e># 删除用户</span>
</span></span><span style=display:flex><span>sudo userdel -r username <span style=color:#75715e># 删除用户及主目录</span>
</span></span><span style=display:flex><span>sudo useradd -m &lt;用户名&gt; <span style=color:#f92672>&amp;&amp;</span> echo <span style=color:#e6db74>&#34;&lt;用户名&gt;:</span><span style=color:#66d9ef>$(</span>openssl rand -base64 12<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> | sudo chpasswd <span style=color:#75715e># 创建并生成16位密码</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 切换用户</span>
</span></span><span style=display:flex><span>su - &lt;用户名&gt; <span style=color:#75715e># 需要普通用户密码</span>
</span></span><span style=display:flex><span>sudo -iu &lt;用户名&gt; <span style=color:#75715e># 需要管理员密码（在sudo组）</span>
</span></span></code></pre></div><h1 id=用户组>用户组</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>getent group <span style=color:#75715e># 查看系统中的用户组(本地+网络)</span>
</span></span><span style=display:flex><span>getent group <span style=color:#f92672>|</span> grep <span style=color:#f92672>&lt;</span>group_name<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>cat <span style=color:#f92672>/</span>etc<span style=color:#f92672>/</span>group <span style=color:#75715e># 查看本地用户组</span>
</span></span><span style=display:flex><span><span style=color:#75715e># “get entries”，意为“获取条目”。它的主要功能是查询系统数据库中的记录信息</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看所属的用户组</span>
</span></span><span style=display:flex><span>groups
</span></span><span style=display:flex><span>groups xxx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo usermod <span style=color:#f92672>-</span>aG <span style=color:#f92672>&lt;</span>groupname<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>username<span style=color:#f92672>&gt;</span> <span style=color:#75715e># 添加成员到用户组</span>
</span></span><span style=display:flex><span>sudo vim <span style=color:#f92672>/</span>etc<span style=color:#f92672>/</span>group <span style=color:#75715e># 直接修改，不推荐</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 输出格式解析</span>
</span></span><span style=display:flex><span>group_name:x:GID:user_list
</span></span><span style=display:flex><span>    group_name<span style=color:#960050;background-color:#1e0010>：</span>用户组名称<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    x<span style=color:#960050;background-color:#1e0010>：</span>密码占位符<span style=color:#960050;background-color:#1e0010>（</span>实际密码存储在 <span style=color:#f92672>/</span>etc<span style=color:#f92672>/</span>gshadow 中<span style=color:#960050;background-color:#1e0010>）。</span>
</span></span><span style=display:flex><span>    GID<span style=color:#960050;background-color:#1e0010>：</span>用户组 ID<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    user_list<span style=color:#960050;background-color:#1e0010>：</span>属于该组的用户列表<span style=color:#960050;background-color:#1e0010>（</span>用逗号分隔<span style=color:#960050;background-color:#1e0010>）。</span>取决于所属组的权限分配
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看特定用户所属的组</span>
</span></span><span style=display:flex><span>id username <span style=color:#75715e># 比groups输出更详细，包括uid、gid等</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除组内特定用户</span>
</span></span><span style=display:flex><span>sudo gpasswd <span style=color:#f92672>-</span>d username groupname
</span></span></code></pre></div><h1 id=权限管理>权限管理</h1><p><a href="https://www.notion.so/319ec6cb6e514e4899ee2f101a5a72d1?pvs=21" target=_blank rel="noopener noreffer">权限管理</a></p><ul><li><strong><code>chmod</code></strong>：改变文件夹的访问权限，但无法指定特定用户。</li><li><strong><code>chown</code></strong>：改变文件夹的所有者或用户组，适用于基于用户或组的权限管理。</li><li><strong><code>setfacl</code></strong>：更灵活的访问控制，允许为特定用户设置权限。</li></ul><p><a href=https://wangchujiang.com/linux-command/c/setfacl.html target=_blank rel="noopener noreffer">https://wangchujiang.com/linux-command/c/setfacl.html</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 基本设置</span>
</span></span><span style=display:flex><span>chmod
</span></span><span style=display:flex><span>sudo chown -R user1:group1 mydir <span style=color:#75715e># 修改所有者和组</span>
</span></span><span style=display:flex><span>sudo chown -R user1:group1 mydir
</span></span><span style=display:flex><span>sudo chgrp -R group1 mydir <span style=color:#75715e># 修改所属的组</span>
</span></span><span style=display:flex><span>sudo chmod g+s mydir <span style=color:#75715e># 设置 组继承（SGID 位）setgid 只影响 新建目录的组（让它们属于 gs_scene），但不会影响权限。</span>
</span></span><span style=display:flex><span>ls -ld mydir <span style=color:#75715e># 检查继承生效（x--&gt;s）</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ACL精细控制</span>
</span></span><span style=display:flex><span>sudo apt install acl
</span></span><span style=display:flex><span>getfacl /data <span style=color:#75715e># 查看文件夹当前的 ACL 设置</span>
</span></span><span style=display:flex><span>setfacl -m u:user1:rx /data <span style=color:#75715e># 为特定用户添加访问权限</span>
</span></span><span style=display:flex><span>setfacl -m g:group1:rw /data <span style=color:#75715e># 为特定用户组添加访问权限</span>
</span></span><span style=display:flex><span>setfacl -d -m u:user1:rw /data <span style=color:#75715e># 为新创建的文件或文件夹设置默认 ACL 继承权限,不能代替仅-m</span>
</span></span><span style=display:flex><span>setfacl -d -m g:group1:rx /data
</span></span><span style=display:flex><span>setfacl -d -x g:group1 /data <span style=color:#75715e># 移除特定继承权限</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># umask</span>
</span></span><span style=display:flex><span>umask 是用户创建文件或目录时的默认权限掩码。不同用户可能有不同的 umask 设置。
</span></span><span style=display:flex><span>假设当前用户的 umask 为 002，那么创建目录时默认权限会是 775（rwxrwxr - x）
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除权限</span>
</span></span><span style=display:flex><span>chmod g-s gs_scene/stellar_web_recon/ <span style=color:#75715e># 移除权限继承</span>
</span></span><span style=display:flex><span>chmod g-w,o-rwx gs_scene/stellar_web_recon/ <span style=color:#75715e># 缩减权限</span>
</span></span></code></pre></div><h2 id=解除占用>解除占用</h2><p><a href=https://wangchujiang.com/linux-command/c/lsof.html target=_blank rel="noopener noreffer">lsof 命令，Linux lsof 命令详解：显示Linux系统当前已打开的所有文件列表 <code>lsof -p pid</code> - Linux 命令搜索引擎</a></p><p>win10:</p><p>任务管理器—性能选项卡—资源监视器—搜索关联的句柄—删除句柄</p><p><a href=https://blog.csdn.net/u014175572/article/details/50946471 target=_blank rel="noopener noreffer">https://blog.csdn.net/u014175572/article/details/50946471</a></p><h1 id=docker>docker</h1><p><a href="https://www.notion.so/docker-199e4020f06080f09e9cd8f239bcf9e7?pvs=21" target=_blank rel="noopener noreffer">docker</a></p><p><a href=https://hub.docker.com/ target=_blank rel="noopener noreffer">https://hub.docker.com/</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看docker版本</span>
</span></span><span style=display:flex><span>docker --version
</span></span><span style=display:flex><span>docker -v
</span></span><span style=display:flex><span>docker info | grep <span style=color:#e6db74>&#34;Storage Driver&#34;</span> <span style=color:#75715e># 当前使用的存储驱动</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安装</span>
</span></span><span style=display:flex><span>sudo snap install docker <span style=color:#75715e># 不推荐，可能有问题</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install docker.io
</span></span><span style=display:flex><span>sudo systemctl start docker
</span></span><span style=display:flex><span>sudo systemctl enable docker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 设置用户组</span>
</span></span><span style=display:flex><span>sudo groupadd docker <span style=color:#75715e># 新增dockr组</span>
</span></span><span style=display:flex><span>newgrp docker <span style=color:#75715e># **切换用户的主组**，否则可能因为没有sudo权限运行不了docker命令</span>
</span></span><span style=display:flex><span>getent group | grep docker <span style=color:#75715e># 查看组</span>
</span></span><span style=display:flex><span>sudo usermod -aG docker $USER <span style=color:#75715e># 组中添加成员</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看本机镜像</span>
</span></span><span style=display:flex><span>docker images
</span></span><span style=display:flex><span>docker images &lt;image_name&gt;
</span></span><span style=display:flex><span>docker images --format <span style=color:#e6db74>&#39;{{.Size}}\t{{.Repository}}:{{.Tag}}&#39;</span> | sort -h <span style=color:#75715e># 按大小排序</span>
</span></span><span style=display:flex><span>docker images --no-trunc <span style=color:#75715e># 非截断查看</span>
</span></span><span style=display:flex><span>docker images -a
</span></span><span style=display:flex><span>docker images -f <span style=color:#e6db74>&#34;dangling=true&#34;</span> <span style=color:#75715e># 悬空镜像（未被任何容器引用）</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查找镜像</span>
</span></span><span style=display:flex><span>我们可以从 Docker Hub 网站来搜索镜像，Docker Hub 网址为： https://hub.docker.com/
</span></span><span style=display:flex><span>我们也可以使用 docker search 命令来搜索镜像。比如我们需要一个 httpd 的镜像来作为我们的 web 服务。我们可以通过 docker search 命令搜索 httpd 来寻找适合我们的镜像。
</span></span><span style=display:flex><span>runoob@runoob:~$  docker search httpd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 获取镜像</span>
</span></span><span style=display:flex><span>docker pull &lt;image_name&gt;:&lt;tag&gt;
</span></span><span style=display:flex><span>docker pull ubuntu <span style=color:#75715e>#默认标签docker pull ubuntu</span>
</span></span><span style=display:flex><span>docker pull ubuntu:20.04
</span></span><span style=display:flex><span>docker pull colmap/colmap
</span></span><span style=display:flex><span>docker pull colmap/colmap:v3.7
</span></span><span style=display:flex><span>docker pull hub-mirror.c.163.com/library/busybox:latest <span style=color:#75715e># 指定镜像源</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 保存离线镜像并运行</span>
</span></span><span style=display:flex><span>docker save -o &lt;image-name&gt;.tar &lt;image-name&gt;:&lt;tag&gt; <span style=color:#75715e># 保存为 tar 文件</span>
</span></span><span style=display:flex><span>docker save -o ubuntu.tar ubuntu:latest
</span></span><span style=display:flex><span>docker load -i ubuntu.tar <span style=color:#75715e># 可以使用docker images查看</span>
</span></span><span style=display:flex><span>docker run -it ubuntu:latest /bin/bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 启动容器</span>
</span></span><span style=display:flex><span>以下命令使用 ubuntu 镜像启动一个容器，参数为以命令行模式进入该容器：
</span></span><span style=display:flex><span>$ docker run -it ubuntu /bin/bash
</span></span><span style=display:flex><span>docker run -it tensorflow/tensorflow:1.15.5-gpu
</span></span><span style=display:flex><span>id <span style=color:#75715e># 查看uid gid</span>
</span></span><span style=display:flex><span>sudo docker run -it --user 1009:999 tensorflow/tensorflow:1.15.5-gpu /bin/bash
</span></span><span style=display:flex><span>docker run -it -v ~/YFJ:/share tensorflow/tensorflow:1.15.5-gpu
</span></span><span style=display:flex><span>docker run -it -v ~/Documents/python/unet_rgb:/share tensorflow/tensorflow
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>参数说明：
</span></span><span style=display:flex><span>-i: 交互式操作。
</span></span><span style=display:flex><span>-t: 终端。
</span></span><span style=display:flex><span>ubuntu: ubuntu 镜像。
</span></span><span style=display:flex><span>/bin/bash：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash。
</span></span><span style=display:flex><span>要退出终端，直接输入 exit:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 停止容器</span>
</span></span><span style=display:flex><span>键盘快捷键 Ctrl + D 或者输入 exit 命令来退出容器
</span></span><span style=display:flex><span>docker stop &lt;container_id_or_name&gt;
</span></span><span style=display:flex><span>docker stop <span style=color:#66d9ef>$(</span>docker ps -q<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>docker container prune  <span style=color:#75715e># 删除所有退出的容器</span>
</span></span><span style=display:flex><span>docker container prune -f <span style=color:#75715e># 强制删除</span>
</span></span><span style=display:flex><span>docker rm &lt;container_id&gt;  <span style=color:#75715e># 删除指定容器</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看容器状态</span>
</span></span><span style=display:flex><span>runoob@runoob:~$ docker ps
</span></span><span style=display:flex><span>CONTAINER ID        IMAGE                  COMMAND              ...  
</span></span><span style=display:flex><span>5917eac21c36        ubuntu:15.10           <span style=color:#e6db74>&#34;/bin/sh -c &#39;while t…&#34;</span>    ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 与宿主机共享目录</span>
</span></span><span style=display:flex><span>docker run -it -v ~/shared_data:/data tensorflow/tensorflow
</span></span><span style=display:flex><span>docker run -it -v ~/YFJ:/share tensorflow/tensorflow:1.15.5-gpu <span style=color:#75715e># 容器中不需要手动创建share目录</span>
</span></span><span style=display:flex><span>docker run -it -v ~/YFJ/python/sediment/deeplearning/demo/unet_rgb:/share tensorflow/tensorflow:latest-gpu
</span></span><span style=display:flex><span>docker run --gpus all -it -v ~/Documents/python/unet_rgb:/share tensorflow/tensorflow:2.2.1-gpu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 删除镜像</span>
</span></span><span style=display:flex><span>docker rmi -f yfjie/tensorflow:latest <span style=color:#75715e># 强制删除</span>
</span></span><span style=display:flex><span>docker rmi -f &lt;IMAGE ID&gt;
</span></span><span style=display:flex><span>docker image prune -f <span style=color:#75715e># 删除所有悬空镜像</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看运行中的容器</span>
</span></span><span style=display:flex><span>docker ps
</span></span><span style=display:flex><span>docker ps -a
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 镜像详细信息</span>
</span></span><span style=display:flex><span>docker inspect &lt;镜像名称或 ID&gt;
</span></span><span style=display:flex><span>docker history &lt;镜像名称或 ID&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 创建/更新镜像</span>
</span></span><span style=display:flex><span>docker commit ea78c33e150f yfjie/tensorflow <span style=color:#75715e># 经测试先更新后再exit，某些版本可以先exit</span>
</span></span><span style=display:flex><span>**docker commit -m<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;has update&#34;</span> -a<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;runoob&#34;</span> e218edb10161 runoob/ubuntu:v2**
</span></span><span style=display:flex><span>docker commit <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> CONTAINER <span style=color:#f92672>[</span>REPOSITORY<span style=color:#f92672>[</span>:TAG<span style=color:#f92672>]]</span> <span style=color:#75715e># 可以提交相同名称覆盖已有镜像</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重启</span>
</span></span><span style=display:flex><span>sudo snap restart docker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># cuda运行时</span>
</span></span><span style=display:flex><span>which nvidia-container-runtime
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 挂载多个目录</span>
</span></span><span style=display:flex><span>docker run -d <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -v /host/path1:/container/path1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -v /host/path2:/container/path2 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -v /host/path3:/container/path3 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --name my_container <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  my_image
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># 拷贝文件</span>
</span></span><span style=display:flex><span>docker cp &lt;container_id&gt;:/path/in/container /host/path <span style=color:#75715e># docker ps (id or NAMES)</span>
</span></span><span style=display:flex><span>docker cp /host/path &lt;container_id&gt;:/path/in/container
</span></span><span style=display:flex><span>docker exec -it &lt;container_id&gt; /bin/bash <span style=color:#75715e># 进入容器内部再cp</span>
</span></span></code></pre></div><h1 id=ssh>SSH</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen <span style=color:#75715e># 生成密钥对</span>
</span></span><span style=display:flex><span>ssh-copy-id -i /home/nvidia/.ssh/id_rsa.pub nvidia@nvidia11 <span style=color:#75715e># 拷贝公钥</span>
</span></span><span style=display:flex><span>ssh-copy-id <span style=color:#e6db74>&#34;-p 2222 myuser@123.45.67.89&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 远程服务器ssh信息变更无法连接时，删除known_hosts中对应条目</span>
</span></span><span style=display:flex><span>ssh-keygen -R &lt;远程主机IP或域名&gt;
</span></span></code></pre></div><p><a href="https://www.linuxcool.com/ssh-keygen#:~:text=ssh%2Dkeygen%E5%91%BD%E4%BB%A4%E6%9D%A5%E8%87%AA%E4%BA%8E,%E4%B8%A4%E7%A7%8D%E5%AF%86%E9%92%A5%E6%A0%BC%E5%BC%8F%E3%80%82" target=_blank rel="noopener noreffer">https://www.linuxcool.com/ssh-keygen#:~:text=ssh-keygen命令来自于,两种密钥格式。</a></p><p><a href="https://www.linuxcool.com/ssh-keygen#:~:text=ssh%2Dkeygen%E5%91%BD%E4%BB%A4%E6%9D%A5%E8%87%AA%E4%BA%8E,%E4%B8%A4%E7%A7%8D%E5%AF%86%E9%92%A5%E6%A0%BC%E5%BC%8F%E3%80%82" target=_blank rel="noopener noreffer">ssh-keygen命令 - 生成SSH密钥文件</a></p><p><a href=https://blog.csdn.net/qq_16268979/article/details/108899178 target=_blank rel="noopener noreffer">linux文件目录：.ssh目录下各文件的作用_啊荻～的博客-CSDN博客</a></p><p><a href=https://blog.51cto.com/3381847248/2066599 target=_blank rel="noopener noreffer">ssh配置文件详解_51CTO博客_ssh框架配置文件详解</a></p><h1 id=git>git</h1><p><a href="https://www.notion.so/Git-92912fb2b4d443b0999031bf8e296561?pvs=21" target=_blank rel="noopener noreffer">Git</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git config --list
</span></span><span style=display:flex><span>unset http_proxy https_proxy HTTP_PROXY HTTPS_PROXY
</span></span><span style=display:flex><span>git config --global --unset http.proxy
</span></span><span style=display:flex><span>git config --global --unset https.proxy
</span></span><span style=display:flex><span>https://kkgithub.com <span style=color:#75715e># 镜像站</span>
</span></span></code></pre></div><h1 id=驱动>驱动</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>uninstall</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span><span style=color:#f92672>-</span><span style=color:#a6e22e>get</span> <span style=color:#a6e22e>remove</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>purge</span> <span style=color:#a6e22e>nvidia</span><span style=color:#f92672>*</span>
</span></span></code></pre></div><h1 id=cuda>CUDA</h1><p><a href="https://www.notion.so/CUDA-19ae4020f06080878b98cfac7fb34898?pvs=21" target=_blank rel="noopener noreffer">CUDA</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 基础用法</span>
</span></span><span style=display:flex><span>nvidia<span style=color:#f92672>-</span>smi
</span></span><span style=display:flex><span>nvidia<span style=color:#f92672>-</span>smi <span style=color:#f92672>-</span>L <span style=color:#75715e># 列出所有 GPU 的物理索引和名称</span>
</span></span><span style=display:flex><span>watch nvidia<span style=color:#f92672>-</span>smi <span style=color:#75715e># 每2秒刷新</span>
</span></span><span style=display:flex><span>watch <span style=color:#f92672>-</span>n <span style=color:#ae81ff>1</span> nvidia<span style=color:#f92672>-</span>smi
</span></span><span style=display:flex><span>watch <span style=color:#f92672>-</span>n <span style=color:#ae81ff>1</span> nvidia<span style=color:#f92672>-</span>smi <span style=color:#f92672>-</span>i <span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span> <span style=color:#75715e># 指定逻辑索引</span>
</span></span><span style=display:flex><span>Ctrl <span style=color:#f92672>+</span> C 退出
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看显存占用</span>
</span></span><span style=display:flex><span>gpustat <span style=color:#f92672>-</span>i <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>gpustat <span style=color:#f92672>-</span>p <span style=color:#f92672>-</span>c <span style=color:#f92672>-</span>u
</span></span><span style=display:flex><span>nvidia<span style=color:#f92672>-</span>smi <span style=color:#f92672>-</span>i <span style=color:#ae81ff>0</span> <span style=color:#f92672>--</span>query<span style=color:#f92672>-</span>compute<span style=color:#f92672>-</span>apps<span style=color:#f92672>=</span>pid,used_memory,process_name <span style=color:#f92672>--</span>format<span style=color:#f92672>=</span>csv,noheader,nounits <span style=color:#f92672>|</span> sort <span style=color:#f92672>-</span>k2 <span style=color:#f92672>-</span>nr
</span></span><span style=display:flex><span>nvidia<span style=color:#f92672>-</span>smi <span style=color:#f92672>--</span>query<span style=color:#f92672>-</span>gpu<span style=color:#f92672>=</span>index,memory<span style=color:#f92672>.</span>used,memory<span style=color:#f92672>.</span>total <span style=color:#f92672>--</span>format<span style=color:#f92672>=</span>csv,noheader <span style=color:#f92672>|</span> sort <span style=color:#f92672>-</span>t <span style=color:#e6db74>&#39;,&#39;</span> <span style=color:#f92672>-</span>k2 <span style=color:#f92672>-</span>nr
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> torch
</span></span><span style=display:flex><span>print(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>is_available()) <span style=color:#75715e># 检查CUDA是否可用</span>
</span></span><span style=display:flex><span>print(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>device_count()) <span style=color:#75715e># 显示GPU数量</span>
</span></span><span style=display:flex><span>nvidia<span style=color:#f92672>-</span>smi <span style=color:#f92672>--</span>query<span style=color:#f92672>-</span>gpu<span style=color:#f92672>=</span>compute_cap <span style=color:#f92672>--</span>format<span style=color:#f92672>=</span>csv <span style=color:#75715e># 显卡算力</span>
</span></span><span style=display:flex><span>visible_gpus <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;CUDA_VISIBLE_DEVICES&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#34;,&#34;</span>) <span style=color:#75715e># 物理索引</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>**</span><span style=color:#75715e># 注意区分gpu的物理索引与逻辑索引**</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> icecream <span style=color:#f92672>import</span> ic
</span></span><span style=display:flex><span>ic(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>is_available()) <span style=color:#75715e># Check if CUDA is available</span>
</span></span><span style=display:flex><span>ic(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>device_count())
</span></span><span style=display:flex><span>ic(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>current_device()) <span style=color:#75715e># 检查当前使用的 GPU</span>
</span></span><span style=display:flex><span>ic(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>get_device_name(torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>current_device())) <span style=color:#75715e># 获取当前 GPU 名称</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>torch<span style=color:#f92672>.</span>cuda<span style=color:#f92672>.</span>empty_cache() <span style=color:#75715e># Release all unoccupied cached memory</span>
</span></span><span style=display:flex><span>os<span style=color:#f92672>.</span>environ[<span style=color:#e6db74>&#34;CUDA_VISIBLE_DEVICES&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1,2&#34;</span> <span style=color:#75715e># 可能需要放在torch导入之前</span>
</span></span></code></pre></div><p><img class=lazyload src=/svg/loading.min.svg data-src=Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/image.png data-srcset="Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/image.png, Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/image.png 1.5x, Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/image.png 2x" data-sizes=auto alt=Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/image.png title=image.png></p><h1 id=gui>GUI</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>cat /etc/X11/default-display-manager <span style=color:#75715e>#查看</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LightDM 相关操作
</span></span><span style=display:flex><span>切换命令行<span style=color:#960050;background-color:#1e0010>：</span>alt-ctrl-F1<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LightDM 日志<span style=color:#960050;background-color:#1e0010>：</span>/var/log/lightdm<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>关停 LightDM<span style=color:#960050;background-color:#1e0010>：</span>$ sudo stop lightdm<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>启动 LightDM<span style=color:#960050;background-color:#1e0010>：</span>$ sudo start lightdm<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>设置 LightDM 为默认显示管理器<span style=color:#960050;background-color:#1e0010>：</span>$ sudo dpkg-recofigure lightdm<span style=color:#960050;background-color:#1e0010>。</span>
</span></span></code></pre></div><h2 id=刷新系统ui>刷新系统UI</h2><p>使用快捷键刷新 GNOME Shell</p><ol><li>按下 <strong>Alt + F2</strong>。</li><li>输入字母 <strong><code>r</code></strong> 并按下回车。<ul><li>这将重新加载 GNOME Shell，刷新 UI，而不关闭当前的应用程序。</li></ul></li></ol><h1 id=关机重启>关机、重启</h1><p><a href=https://www.w3cschool.cn/linux/linux-are12oz3.html target=_blank rel="noopener noreffer">https://www.w3cschool.cn/linux/linux-are12oz3.html</a></p><p>1、halt：立刻关机</p><p>2、<code>poweroff：立刻关机</code></p><p>3、<code>shutdown -h now：立刻关机(root用户使用)</code></p><p>4、shutdown -h 10：10分钟后自动关机</p><p>注意，如果是通过shutdown命令设置关机的话，可以用shutdown -c命令取消重启</p><p><strong>重启命令</strong></p><p>1、reboot 立即重启</p><p>2、shutdown -r now 立刻重启(root用户使用)</p><p>3、shutdown -r 10 过10分钟自动重启(root用户使用)</p><p>4、shutdown -r 20:35 在时间为20:35时候重启(root用户使用)</p><p>如果是通过shutdown命令设置重启的话，可以用shutdown -c命令取消重启</p><h1 id=软件安装包管理>软件安装/包管理</h1><p><a href="https://www.notion.so/b9e986f69b994115ae2889a39d480976?pvs=21" target=_blank rel="noopener noreffer">软件安装/包管理</a></p><p><img class=lazyload src=/svg/loading.min.svg data-src=Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/Untitled.png data-srcset="Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/Untitled.png, Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/Untitled.png 1.5x, Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/Untitled.png 2x" data-sizes=auto alt=Linux%20command%20de039fc517af4e2bb44d03ac1dc38fc3/Untitled.png title=Untitled></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>安装</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>install</span> &lt;<span style=color:#f92672>package_name</span>&gt;
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>dpkg</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>i</span> .<span style=color:#a6e22e>deb</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>查看版本</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>list</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>installed</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>grep</span> <span style=color:#a6e22e>screen</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dpkg</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>l</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>grep</span> <span style=color:#a6e22e>qq</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>查找dpkg安装的软件</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dpkg</span><span style=color:#f92672>-</span><span style=color:#a6e22e>query</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>s</span> <span style=color:#a6e22e>libsuitesparse</span><span style=color:#f92672>-</span><span style=color:#a6e22e>dev</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>详细信息</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>修复</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span><span style=color:#f92672>-</span><span style=color:#a6e22e>get</span> <span style=color:#a6e22e>check</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>fix</span><span style=color:#f92672>-</span><span style=color:#a6e22e>broken</span> <span style=color:#a6e22e>install</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>install</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span><span style=color:#f92672>-</span><span style=color:#a6e22e>get</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span> <span style=color:#a6e22e>install</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>dpkg</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>configure</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>卸载</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>remove</span> &lt;<span style=color:#f92672>package_name</span>&gt; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>只移除软件</span>,<span style=color:#a6e22e>先查找到正确名称</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>purge</span> &lt;<span style=color:#f92672>package_name</span>&gt; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>移除软件及配置</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>保留数据</span><span style=color:#960050;background-color:#1e0010>（</span><span style=color:#a6e22e>需手动清除</span><span style=color:#960050;background-color:#1e0010>）</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>autoremove</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>清理孤立依赖项</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>clean</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>清理软件包缓存</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>rm</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>rf</span> <span style=color:#f92672>~</span><span style=color:#960050;background-color:#1e0010>/.config/软件名 # 可选手动删除配置</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>rm</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>rf</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>etc</span><span style=color:#f92672>/</span><span style=color:#a6e22e>软件名</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>更新指定软件</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>apt</span> <span style=color:#a6e22e>install</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>only</span><span style=color:#f92672>-</span><span style=color:#a6e22e>upgrade</span> <span style=color:#a6e22e>google</span><span style=color:#f92672>-</span><span style=color:#a6e22e>chrome</span><span style=color:#f92672>-</span><span style=color:#a6e22e>stable</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>snap</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>snap</span> <span style=color:#a6e22e>install</span> <span style=color:#a6e22e>notepadqq</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>snap</span> <span style=color:#a6e22e>remove</span> <span style=color:#a6e22e>notepadqq</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>snap</span> <span style=color:#a6e22e>help</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>all</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>snap</span> <span style=color:#a6e22e>list</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>snap</span> <span style=color:#a6e22e>info</span> <span style=color:#a6e22e>应用名称</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>which</span> <span style=color:#a6e22e>notepad</span><span style=color:#f92672>-</span><span style=color:#a6e22e>plus</span><span style=color:#f92672>-</span><span style=color:#a6e22e>plus</span>
</span></span></code></pre></div><h2 id=usrbin-vs-usrlocalbin>/usr/bin v.s. /usr/local/bin</h2><h3 id=1-usrbin>1. <strong><code>/usr/bin</code></strong></h3><ul><li><strong>系统级别目录</strong>：<code>/usr/bin</code> 是系统默认的二进制文件目录，存放了大部分由操作系统包管理器（如 <code>apt</code>、<code>yum</code>）安装的应用程序和命令。</li><li><strong>系统维护</strong>：文件通常由操作系统的包管理工具维护和更新，用户不应直接在这个目录中添加或删除文件。</li><li><strong>标准工具</strong>：该目录下的工具和应用程序通常是系统运行所必需的，包括常见的命令如 <code>ls</code>、<code>grep</code>、<code>tar</code> 等。</li></ul><h3 id=2-usrlocalbin>2. <strong><code>/usr/local/bin</code></strong></h3><ul><li><strong>用户级别目录</strong>：<code>/usr/local/bin</code> 主要用于存放用户自行编译或安装的应用程序和脚本。这个目录专门为管理员和用户提供一个位置来安装全局可用的程序，而不影响系统自带的工具。</li><li><strong>手动安装</strong>：当你手动编译和安装一个软件包，默认情况下它会被安装到 <code>/usr/local</code> 下的相应子目录（如 <code>bin</code>、<code>lib</code>、<code>share</code> 等）。这样可以避免与系统自带的文件发生冲突。</li><li><strong>优先级</strong>：在默认的 PATH 环境变量中，<code>/usr/local/bin</code> 通常位于 <code>/usr/bin</code> 之前，这意味着当同名程序同时存在于这两个目录时，系统会优先使用 <code>/usr/local/bin</code> 中的版本。</li></ul><h1 id=开机启动项>开机启动项</h1><p>systemctl</p><p><a href=https://www.cnblogs.com/jins-note/p/13284170.html target=_blank rel="noopener noreffer">Ubuntu systemctl 查看管理系统启动项 - Jerry_Jin - 博客园</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>list</span><span style=color:#f92672>-</span><span style=color:#a6e22e>unit</span><span style=color:#f92672>-</span><span style=color:#a6e22e>files</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>grep</span> <span style=color:#a6e22e>enabled</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>is</span><span style=color:#f92672>-</span><span style=color:#a6e22e>enabled</span> <span style=color:#a6e22e>firewalld</span>
</span></span></code></pre></div><h1 id=终端清屏>终端清屏</h1><p><a href=https://juejin.cn/post/7023984066672230414 target=_blank rel="noopener noreffer">linux极简小知识：39、终端清屏的快捷命令ctrl+l，及shell终端中常用快捷键总结【ctrl + c|d|z|s|q|r|o|a|e|u|w|k】 - 掘金</a></p><ul><li>ctrl + l：即 clear 命令。清除终端命令屏幕显示的内容，比如当终端命令屏显示的内容太多时，想清掉屏幕上显示的内容，就可以用clear命令或ctrl+l。（Clear screen）</li><li>ctrl + c：终止命令的执行。（Kill foreground process）</li><li>ctrl + d： 退出 shell，相当于 exit 命令；在输入中 ctrl + d 也表示EOF。（Terminate input, or exit shell）【当前shell行没有任何内容时，才会退出shell】</li><li>ctrl + z：将当前进程置于后台并挂起，可使用 <code>fg</code> 命令还原到前台继续执行（<code>bg</code> 命令将一个在后台暂停的命令，变成继续执行）。（Suspend foreground process）</li><li>ctrl + s：挂起当前shell输出。（Suspend output）</li><li>ctrl + q：重新启用shell输出。（Resume output）</li><li>Ctrl + o：丢弃输出。（Discard output）</li><li>ctrl + r：从命令历史查找。</li><li>ctrl + a：光标移到行首。</li><li>ctrl + e：光标移到行尾。</li><li>ctrl + u：清除光标到行首的字符 。</li><li>ctrl + w：清除光标之前一个单词 。</li><li>ctrl + k：清除光标到行尾的字符。</li><li>ctrl + t：交换光标前两个字符。</li><li>ctrl + y：粘贴前一ctrl+u类命令删除的字符。</li><li>ctrl + p：上一条命令。</li><li>ctrl + n：下一条命令。</li><li>ctrl + v：输入控制字符 如ctrl+v ，会输入^M</li><li>ctrl + f：光标后移一个字符。</li><li>ctrl + b：光标前移一个字符。</li><li>ctrl + h：删除光标前一个字符。</li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 0001-01-01</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/ data-title><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/ data-title><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/ data-title><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://fjyu95.github.io/posts/linux-command-de039fc517af4e2bb44d03ac1dc38fc3/ data-title><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/%E7%99%BE%E5%BA%A6paddle-fluid.layers.fc-api%E8%AF%B4%E6%98%8E/ class=prev rel=prev title><i class="fas fa-angle-left fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>xxxx</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>