<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>vim - FangjieYu‘s site</title><meta name=Description content="This is my cool site"><meta property="og:url" content="https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/">
<meta property="og:site_name" content="FangjieYu‘s site"><meta property="og:title" content="vim"><meta property="og:description" content="vim速查手册"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-20T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-28T00:00:00+00:00"><meta property="article:tag" content="Vim"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="vim"><meta name=twitter:description content="vim速查手册"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/><link rel=prev href=https://fjyu95.github.io/posts/%E7%A1%AC%E4%BB%B6%E6%9D%82%E8%B0%88/><link rel=next href=https://fjyu95.github.io/posts/%E6%91%84%E5%BD%B1%E6%88%90%E5%83%8F/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"vim","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/fjyu95.github.io\/posts\/vim-03e3126a53f54d23bc4a2bd68d1b11cd\/"},"genre":"posts","keywords":"vim, linux","wordcount":3756,"url":"https:\/\/fjyu95.github.io\/posts\/vim-03e3126a53f54d23bc4a2bd68d1b11cd\/","datePublished":"2022-11-20T00:00:00+00:00","dateModified":"2025-03-28T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"fjyu95"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="FangjieYu‘s site">fjyu95</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>posts </a><a class=menu-item href=/tags/>tags </a><a class=menu-item href=/categories/>category </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="FangjieYu‘s site">fjyu95</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>posts</a><a class=menu-item href=/tags/ title>tags</a><a class=menu-item href=/categories/ title>category</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">vim</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://fjyu95.github.io/ title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>fjyu95</a></span>&nbsp;<span class=post-category>included in <a href=/categories/linux%E7%AC%94%E8%AE%B0/><i class="far fa-folder fa-fw" aria-hidden=true></i>Linux笔记</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-11-20>2022-11-20</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;3756 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;8 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#summary>summary</a><ul><li><ul><li><a href=#vim-常用快捷键大全><strong>Vim 常用快捷键大全</strong></a></li></ul></li><li><a href=#-1-模式切换><strong>📌 1. 模式切换</strong></a></li><li><a href=#-2-光标移动><strong>📌 2. 光标移动</strong></a></li><li><a href=#-3-复制剪切和粘贴><strong>📌 3. 复制、剪切和粘贴</strong></a></li><li><a href=#-4-撤销重做><strong>📌 4. 撤销、重做</strong></a></li><li><a href=#-5-查找和替换><strong>📌 5. 查找和替换</strong></a></li><li><a href=#-6-代码缩进><strong>📌 6. 代码缩进</strong></a></li><li><a href=#-7-窗口和标签管理><strong>📌 7. 窗口和标签管理</strong></a></li><li><a href=#-8-其他快捷键><strong>📌 8. 其他快捷键</strong></a></li><li><a href=#-提高-vim-效率的小技巧><strong>🚀 提高 Vim 效率的小技巧</strong></a><ul><li><a href=#-总结><strong>🎯 总结</strong></a></li></ul></li></ul></li><li><a href=#代码补全>代码补全</a></li><li><a href=#批量注释选择>批量注释、选择</a></li><li><a href=#快速删除>快速删除</a><ul><li><a href=#doubao>doubao</a><ul><li><a href=#可视模式删除>可视模式删除</a></li><li><a href=#可视行模式适合整行删除>可视行模式（适合整行删除）</a></li><li><a href=#示例>示例</a></li><li><a href=#可视模式适合非整行删除>可视模式（适合非整行删除）</a></li><li><a href=#行号范围删除>行号范围删除</a></li><li><a href=#命令格式>命令格式</a></li><li><a href=#示例-1>示例</a></li><li><a href=#快速删除指定行数>快速删除指定行数</a></li><li><a href=#示例-2>示例</a></li></ul></li></ul></li><li><a href=#文件比较>文件比较</a></li><li><a href=#主题美化>主题、美化</a></li><li><a href=#检索跳转>检索、跳转</a></li><li><a href=#vim翻页>vim翻页</a><ul><li><a href=#vim翻半页>vim翻半页</a></li><li><a href=#vim整整页>vim整整页</a></li></ul></li><li><a href=#vim跳转>vim跳转</a><ul><li><a href=#vim跳首行>vim跳首行</a></li><li><a href=#vim跳尾行>vim跳尾行</a></li></ul></li><li><a href=#撤销回退>撤销、回退</a></li><li><a href=#批量替换>批量替换</a></li><li><a href=#其他文件操作>其他文件操作</a></li><li><a href=#行号>行号</a></li><li><a href=#查看隐藏符号>查看隐藏符号</a></li><li><a href=#faq>FAQ</a><ul><li><a href=#中文乱码>中文乱码</a><ul><li><a href=#-原因总结>🚨 原因总结：</a></li><li><a href=#-解决步骤如下>✅ 解决步骤如下：</a></li><li><a href=#-1-检查终端环境支持-utf-8>✅ 1. 检查终端环境支持 UTF-8</a></li><li><a href=#-2-检查-vim-是否设置了正确编码>✅ 2. 检查 Vim 是否设置了正确编码</a></li><li><a href=#-3-确保使用的是完整版本的-vim>✅ 3. 确保使用的是完整版本的 Vim</a></li><li><a href=#-4-确认你的文件确实是-utf-8-编码>✅ 4. 确认你的文件确实是 UTF-8 编码</a></li><li><a href=#小贴士临时设置编码方式>💡小贴士：临时设置编码方式</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h1 id=summary>summary</h1><h3 id=vim-常用快捷键大全><strong>Vim 常用快捷键大全</strong></h3><p>Vim 是一个强大的文本编辑器，掌握基本快捷键能极大提升编辑效率。以下是常用的 Vim 快捷键，按功能分类整理。</p><hr><h2 id=-1-模式切换><strong>📌 1. 模式切换</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>i</code></td><td>进入 <strong>插入模式</strong>（光标前插入）</td></tr><tr><td><code>I</code></td><td>进入 <strong>插入模式</strong>（光标移到行首再插入）</td></tr><tr><td><code>a</code></td><td>进入 <strong>插入模式</strong>（光标后插入）</td></tr><tr><td><code>A</code></td><td>进入 <strong>插入模式</strong>（光标移到行尾再插入）</td></tr><tr><td><code>o</code></td><td>在当前行下 <strong>新建一行</strong> 并进入插入模式</td></tr><tr><td><code>O</code></td><td>在当前行上 <strong>新建一行</strong> 并进入插入模式</td></tr><tr><td><code>Esc</code> / <code>Ctrl + [</code></td><td>退出 <strong>插入模式</strong>，回到普通模式</td></tr><tr><td><code>v</code></td><td>进入 <strong>可视模式</strong>（选择字符）</td></tr><tr><td><code>V</code></td><td>进入 <strong>可视模式</strong>（选择整行）</td></tr><tr><td><code>Ctrl + v</code></td><td>进入 <strong>列块可视模式</strong>（选列操作）</td></tr><tr><td><code>:q</code></td><td>退出 Vim</td></tr><tr><td><code>:q!</code></td><td>强制退出（不保存）</td></tr><tr><td><code>:w</code></td><td>保存文件</td></tr><tr><td><code>:wq</code> / <code>ZZ</code></td><td>保存并退出</td></tr></tbody></table><hr><h2 id=-2-光标移动><strong>📌 2. 光标移动</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>h</code></td><td>左移一个字符</td></tr><tr><td><code>l</code></td><td>右移一个字符</td></tr><tr><td><code>j</code></td><td>下移一行</td></tr><tr><td><code>k</code></td><td>上移一行</td></tr><tr><td><code>w</code></td><td>移动到 <strong>下一个单词首字母</strong></td></tr><tr><td><code>e</code></td><td>移动到 <strong>当前/下一个单词末尾</strong></td></tr><tr><td><code>b</code></td><td>移动到 <strong>上一个单词首字母</strong></td></tr><tr><td><code>0</code></td><td>移动到 <strong>行首</strong></td></tr><tr><td><code>^</code></td><td>移动到 <strong>行首第一个非空字符</strong></td></tr><tr><td><code>$</code></td><td>移动到 <strong>行尾</strong></td></tr><tr><td><code>gg</code></td><td>移动到 <strong>第一行</strong></td></tr><tr><td><code>G</code></td><td>移动到 <strong>最后一行</strong></td></tr><tr><td><code>:n</code></td><td>跳转到 <strong>第 n 行</strong>（如 <code>:10</code> 跳转到第 10 行）</td></tr><tr><td><code>Ctrl + d</code></td><td>向下翻半屏</td></tr><tr><td><code>Ctrl + u</code></td><td>向上翻半屏</td></tr><tr><td><code>Ctrl + f</code></td><td>向下翻一整页</td></tr><tr><td><code>Ctrl + b</code></td><td>向上翻一整页</td></tr></tbody></table><hr><h2 id=-3-复制剪切和粘贴><strong>📌 3. 复制、剪切和粘贴</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>yy</code> (<code>Y</code>)</td><td><strong>复制</strong> 当前行</td></tr><tr><td><code>dd</code></td><td><strong>剪切</strong> 当前行</td></tr><tr><td><code>x</code></td><td><strong>删除</strong> 当前字符（相当于剪切一个字符）</td></tr><tr><td><code>D</code></td><td><strong>删除</strong> 从光标到行尾的内容</td></tr><tr><td><code>p</code></td><td><strong>粘贴</strong> 到光标后（或下一行）</td></tr><tr><td><code>P</code></td><td><strong>粘贴</strong> 到光标前（或上一行）</td></tr><tr><td><code>y{motion}</code></td><td>复制指定范围（如 <code>y$</code> 复制到行尾，<code>yw</code> 复制一个单词）</td></tr><tr><td><code>d{motion}</code></td><td>剪切指定范围（如 <code>d$</code> 剪切到行尾，<code>dw</code> 剪切一个单词）</td></tr><tr><td><code>:reg</code></td><td>查看所有剪贴板内容</td></tr></tbody></table><hr><h2 id=-4-撤销重做><strong>📌 4. 撤销、重做</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>u</code></td><td><strong>撤销</strong> 上一步操作</td></tr><tr><td><code>Ctrl + r</code></td><td><strong>重做</strong> 上一步撤销</td></tr></tbody></table><hr><h2 id=-5-查找和替换><strong>📌 5. 查找和替换</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>/keyword</code></td><td><strong>向下查找</strong> <code>keyword</code></td></tr><tr><td><code>?keyword</code></td><td><strong>向上查找</strong> <code>keyword</code></td></tr><tr><td><code>n</code></td><td><strong>下一个匹配</strong></td></tr><tr><td><code>N</code></td><td><strong>上一个匹配</strong></td></tr><tr><td><code>:%s/old/new/g</code></td><td><strong>全局替换</strong> <code>old</code> → <code>new</code></td></tr><tr><td><code>:%s/old/new/gc</code></td><td><strong>全局替换</strong>（逐个确认）</td></tr></tbody></table><hr><h2 id=-6-代码缩进><strong>📌 6. 代码缩进</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>>></code></td><td><strong>右缩进</strong> 当前行</td></tr><tr><td><code>&lt;&lt;</code></td><td><strong>左缩进</strong> 当前行</td></tr><tr><td><code>V + ></code></td><td>选中多行后 <strong>右缩进</strong></td></tr><tr><td><code>V + &lt;</code></td><td>选中多行后 <strong>左缩进</strong></td></tr><tr><td><code>=</code></td><td>自动格式化当前行</td></tr><tr><td><code>gg=G</code></td><td><strong>格式化整个文件</strong></td></tr></tbody></table><hr><h2 id=-7-窗口和标签管理><strong>📌 7. 窗口和标签管理</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>:sp</code></td><td><strong>水平分割</strong> 新窗口</td></tr><tr><td><code>:vsp</code></td><td><strong>垂直分割</strong> 新窗口</td></tr><tr><td><code>Ctrl + w + h</code></td><td><strong>跳到左侧窗口</strong></td></tr><tr><td><code>Ctrl + w + l</code></td><td><strong>跳到右侧窗口</strong></td></tr><tr><td><code>Ctrl + w + j</code></td><td><strong>跳到下面窗口</strong></td></tr><tr><td><code>Ctrl + w + k</code></td><td><strong>跳到上面窗口</strong></td></tr><tr><td><code>:tabnew</code></td><td><strong>新建标签页</strong></td></tr><tr><td><code>gt</code></td><td><strong>下一个标签页</strong></td></tr><tr><td><code>gT</code></td><td><strong>上一个标签页</strong></td></tr></tbody></table><hr><h2 id=-8-其他快捷键><strong>📌 8. 其他快捷键</strong></h2><table><thead><tr><th>快捷键</th><th>作用</th></tr></thead><tbody><tr><td><code>.</code></td><td><strong>重复</strong> 上次命令</td></tr><tr><td><code>Ctrl + n</code></td><td><strong>自动补全</strong></td></tr><tr><td><code>J</code></td><td><strong>合并</strong> 当前行和下一行</td></tr><tr><td><code>:! command</code></td><td><strong>执行 shell 命令</strong>（如 <code>:!ls</code>）</td></tr><tr><td><code>:w !sudo tee %</code></td><td><strong>以 root 权限保存文件</strong></td></tr></tbody></table><hr><h2 id=-提高-vim-效率的小技巧><strong>🚀 提高 Vim 效率的小技巧</strong></h2><ol><li><p><strong>启动 Vim 直接进入插入模式</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim +<span class=s2>&#34;startinsert&#34;</span>
</span></span></code></pre></div></li><li><p><strong>启用行号</strong><br>在 Vim 内输入：</p><pre tabindex=0><code>:set number
</code></pre></li><li><p><strong>启用语法高亮</strong></p><pre tabindex=0><code>:syntax on
</code></pre></li><li><p><strong>高亮搜索结果</strong></p><pre tabindex=0><code>:set hlsearch
</code></pre></li><li><p><strong>显示匹配括号</strong></p><pre tabindex=0><code>:set showmatch
</code></pre></li></ol><hr><h3 id=-总结><strong>🎯 总结</strong></h3><ul><li><strong>模式切换：</strong> <code>i</code> 进入插入模式，<code>Esc</code> 退出</li><li><strong>光标移动：</strong> <code>h/j/k/l</code>，<code>w/e/b</code> 单词移动，<code>gg/G</code> 头尾跳转</li><li><strong>编辑操作：</strong> <code>yy/dd/p</code> 复制剪切粘贴，<code>u</code> 撤销，<code>Ctrl + r</code> 重做</li><li><strong>查找替换：</strong> <code>/word</code> 搜索，<code>:%s/old/new/g</code> 替换</li><li><strong>窗口管理：</strong> <code>:sp</code> / <code>:vsp</code> 分屏，<code>Ctrl + w + hjkl</code> 切换</li></ul><hr><p>Vim 需要不断练习才能熟练掌握，建议多使用 <strong><code>:help [command]</code></strong> 查看详细帮助，例如：</p><pre tabindex=0><code>:help yank
:help visual
</code></pre><p>💡 <strong>熟练 Vim，可以大幅提高编辑效率！</strong> 🚀</p><h1 id=代码补全>代码补全</h1><p><a href=https://blog.csdn.net/haifeng_gu/article/details/73196319 target=_blank rel="noopener noreffer">VIM代码自动补全_Jeremy_ku的博客-CSDN博客</a></p><p>vim自带的代码补全 (7.0以上版本)<br>对于在vim中前面已经输入过的字符串，只要再次输入前几个字符，然后按Ctrl+n 即可自动补全。</p><p>Ctrl+p 补全前面申明过的变量或者函数名。<br>前面声明了结构体T，想在输入T.时弹出成员供选择，只需在用之前按一下：CTRL+F12</p><p>ctrl+x ctrl+o（智能补全）<br>ctrl+x ctrl+f（补全文件名）有待验证</p><h1 id=批量注释选择>批量注释、选择</h1><p><a href=https://zhuanlan.zhihu.com/p/51360394 target=_blank rel="noopener noreffer">Vim中如何全选复制粘贴</a></p><p><a href=https://www.jianshu.com/p/fe9b587d9811 target=_blank rel="noopener noreffer">Vim 多行注释</a></p><p><a href=https://cloud.tencent.com/developer/article/1463765 target=_blank rel="noopener noreffer">Vim技巧-快速/取消注释-腾讯云开发者社区-腾讯云</a></p><h1 id=快速删除>快速删除</h1><p>在Vim中删除整行，可以使用以下几种方法：</p><p>dd：删除当前行。<br>ndd：删除从当前行开始的n行。例如，3dd会删除当前行及其下两行，共三行。<br>D：删除从光标位置到行尾的内容。<br>d$：与D相同，删除从光标位置到行尾的内容。<br>d0：删除从光标位置到行首的内容。<br>:n,d：删除第n行。例如，:5d会删除第5行。<br>:n,md：删除从第n行到第m行的内容。例如，:5,10d会删除第5行到第10行的内容。<br>在执行这些命令后，被删除的行会被存储在Vim的剪贴板中，可以使用p（粘贴到光标下方）或P（粘贴到光标上方）来恢复这些内容。<br>请注意，Vim中的命令区分大小写，因此d和D是不同的命令。在使用这些命令时，确保你处于Vim的正常模式（按下Esc键可以返回正常模式）。</p><h2 id=doubao>doubao</h2><p>在 Vim 编辑器里，有多种方法可实现选择多行并删除的操作，下面为你详细介绍：</p><h3 id=可视模式删除>可视模式删除</h3><p>可视模式是 Vim 里用于可视化选择文本的模式，有三种不同类型，即可视模式（字符选择）、可视行模式（整行选择）和可视块模式（矩形块选择），可根据需求选择合适的模式。</p><h3 id=可视行模式适合整行删除>可视行模式（适合整行删除）</h3><ol><li>把光标移到要删除的首行。</li><li>按下 <code>V</code>（大写的 V）进入可视行模式，此时当前行被高亮显示。</li><li>使用方向键（如 <code>↓</code> 或 <code>↑</code>）上下移动光标，来选择要删除的多行。</li><li>选择好要删除的行后，按下 <code>d</code> 键，所选的行就会被删除。</li></ol><h3 id=示例>示例</h3><p>假设你有如下文本：</p><pre tabindex=0><code>line 1
line 2
line 3
line 4
line 5
</code></pre><p>若要删除第 2 行到第 4 行，操作步骤如下：</p><ul><li>把光标移到第 2 行。</li><li>按下 <code>V</code> 进入可视行模式。</li><li>按两次 <code>↓</code> 键，此时第 2 行到第 4 行被高亮显示。</li><li>按下 <code>d</code> 键，所选的行就会被删除。</li></ul><h3 id=可视模式适合非整行删除>可视模式（适合非整行删除）</h3><ol><li>把光标移到要删除区域的起始位置。</li><li>按下 <code>v</code>（小写的 v）进入可视模式。</li><li>使用方向键移动光标，选择要删除的文本区域。</li><li>选择好后，按下 <code>d</code> 键，所选文本会被删除。</li></ol><h3 id=行号范围删除>行号范围删除</h3><p>若你知道要删除的行号范围，可直接使用行号范围来删除多行。</p><h3 id=命令格式>命令格式</h3><pre tabindex=0><code>:起始行号,结束行号d
</code></pre><p>其中，<code>起始行号</code> 和 <code>结束行号</code> 是要删除的行的编号，<code>d</code> 代表删除操作。</p><h3 id=示例-1>示例</h3><ul><li>删除第 3 行到第 6 行：</li></ul><pre tabindex=0><code>:3,6d
</code></pre><ul><li>删除当前行到第 10 行：</li></ul><pre tabindex=0><code>:.,10d
</code></pre><p>这里的 <code>.</code> 表示当前行。</p><ul><li>删除从第 5 行到文件末尾的所有行：</li></ul><pre tabindex=0><code>:5,$d
</code></pre><p>其中 <code>$</code> 代表文件的最后一行。</p><h3 id=快速删除指定行数>快速删除指定行数</h3><p>如果你想从当前行开始快速删除指定数量的行，可以使用 <code>ndd</code> 命令，其中 <code>n</code> 是要删除的行数。</p><h3 id=示例-2>示例</h3><ul><li>从当前行开始删除 3 行：</li></ul><pre tabindex=0><code>3dd
</code></pre><p>这些方法可以帮助你在 Vim 中高效地选择多行并删除。你可以根据实际情况选择最合适的方法。</p><h1 id=文件比较>文件比较</h1><p><a href=https://www.cnblogs.com/klchang/p/13441038.html target=_blank rel="noopener noreffer">如何用 vim 文本编辑器比较两文件 - klchang - 博客园</a></p><p><a href=https://www.jianshu.com/p/5e359ac7d609 target=_blank rel="noopener noreffer">vimdiff 命令使用介绍</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># vimdiff 常用命令</span>
</span></span><span class=line><span class=cl><span class=n>vimdiff</span> <span class=o>&lt;</span><span class=n>file1</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=n>file2</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>退出diff</span> <span class=p>:</span><span class=n>qa</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>diff</span> <span class=n>mode</span> <span class=n>常用命令速查表</span><span class=p>(</span><span class=n>cheat</span> <span class=n>sheet</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>c</span>　　　　<span class=n>Jump</span> <span class=n>to</span> <span class=n>the</span> <span class=n>previous</span> <span class=n>diff</span> <span class=n>跳到前一个不同之处</span>
</span></span><span class=line><span class=cl><span class=p>]</span><span class=n>c</span>　　　　<span class=n>Jump</span> <span class=n>to</span> <span class=n>the</span> <span class=nb>next</span> <span class=n>diff</span>  <span class=n>调到下一个不同之处</span>
</span></span><span class=line><span class=cl><span class=n>do</span>　　　　<span class=n>diffget</span><span class=p>:</span> <span class=n>Pull</span> <span class=n>the</span> <span class=n>changes</span> <span class=n>to</span> <span class=n>the</span> <span class=n>current</span> <span class=n>file</span>  <span class=n>将所有的不同之处拉到当前文件</span><span class=err>，</span><span class=n>使之与另一个文件内容相同</span>
</span></span><span class=line><span class=cl><span class=n>dp</span>　　　　<span class=n>diffput</span><span class=p>:</span> <span class=n>Push</span> <span class=n>the</span> <span class=n>changes</span> <span class=n>to</span> <span class=n>the</span> <span class=n>other</span> <span class=n>file</span> <span class=n>将所有的不同之处推到另一个文件</span>
</span></span></code></pre></div><h1 id=主题美化>主题、美化</h1><p><a href=https://blog.csdn.net/electrocrazy/article/details/79035216 target=_blank rel="noopener noreffer">设置vim 永久显示行号_vim 显示行号_electrocrazy的博客-CSDN博客</a></p><h1 id=检索跳转>检索、跳转</h1><ul><li><strong>使用 <code>/</code> 进行搜索</strong>:<ul><li>按下 <code>/</code> 后，输入要搜索的内容，然后按 Enter 键。例如：<code>/search_term</code></li><li>按下 <code>n</code> 跳转到下一个匹配项，按下 <code>N</code> 跳转到上一个匹配项。</li></ul></li></ul><h1 id=vim翻页>vim翻页</h1><h2 id=vim翻半页>vim翻半页</h2><ul><li><code>ctr-d</code>：向后翻半页</li><li><code>ctr-u</code>：向前翻半页</li></ul><h2 id=vim整整页>vim整整页</h2><ul><li><code>ctr+f</code>：向后翻整页</li><li><code>ctr+b</code>：向前翻整页</li></ul><h1 id=vim跳转>vim跳转</h1><h2 id=vim跳首行>vim跳首行</h2><ul><li><code>g+g</code></li><li><code>:1</code><br>第二种方式需要输入：<br>先按<code>shift+:</code><br>再输入<code>1</code></li></ul><h2 id=vim跳尾行>vim跳尾行</h2><ul><li><code>shift+g</code></li><li><code>:$</code><br>第二种方式需要输入：<br>先按<code>shift+:</code><br>再输入<code>$</code></li></ul><p><strong>如何在Vim/Vi中使用搜索</strong></p><p><a href="https://www.myfreax.com/vim-search/#:~:text=Vim%E5%85%81%E8%AE%B8%E6%82%A8%E4%BD%BF%E7%94%A8%20%2F%20%EF%BC%88%E6%AD%A3,%E4%B8%8D%E6%98%AF%E6%95%B4%E4%B8%AA%E5%8D%95%E8%AF%8D%E6%9D%A5%E6%9F%A5%E6%89%BE%E3%80%82" target=_blank rel="noopener noreffer">https://www.myfreax.com/vim-search/#:~:text=Vim允许您使用 %2F （正,不是整个单词来查找。</a></p><p><a href=https://juejin.cn/post/6844904173801046024 target=_blank rel="noopener noreffer">Linux—vim/vi 翻页跳转命令快捷键 - 掘金</a></p><p><a href=https://www.linuxidc.com/Linux/2019-01/156600.htm target=_blank rel="noopener noreffer">Vim编辑器翻页控制命令详解</a></p><p><a href=https://blog.easwy.com/archives/advanced-vim-skills-basic-move-method/ target=_blank rel="noopener noreffer">vi/vim使用进阶: 指随意动，移动如飞 (一)</a></p><h1 id=撤销回退>撤销、回退</h1><p><a href=https://www.jianshu.com/p/6f337037d8fd target=_blank rel="noopener noreffer">Vim 撤销 回退 操作</a></p><h1 id=批量替换>批量替换</h1><p>在 Vim 中进行批量替换可以使用 :substitute 命令。以下是一个简单的示例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:%s/old_text/new_text/g
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 这个命令会在整个文件中查找并替换所有匹配的 &#34;old_text&#34; 为 &#34;new_text&#34;。</span>
</span></span></code></pre></div><p><strong>解释一下：</strong><br>%s: 表示在整个文件范围内进行替换。<br>old_text: 要查找的文本。<br>new_text: 要替换为的文本。<br>g: 表示全局替换，即每一行上所有匹配的文本都会被替换。</p><hr><p>如果你只想替换每行的第一个匹配，可以省略 g：</p><p><code>:%s/old_text/new_text</code></p><p>如果你只想替换特定范围内的文本，可以在 : 命令中指定行范围。例如，替换从第 10 行到第 20 行的文本：</p><p><code>:10,20s/old_text/new_text/g</code></p><p>如果你要进行确认，可以在命令中添加 c 选项，这样每次替换时都会询问是否替换：</p><p><code>:%s/old_text/new_text/gc</code></p><p>这只是 Vim 替换的基础用法，Vim 提供了强大的正则表达式和其他选项，可以适应更复杂的替换需求。如果你有特定的替换模式或要求，可以查阅 Vim 文档或在 Vim 中使用 :help :substitute 进行详细了解。</p><h1 id=其他文件操作>其他文件操作</h1><p><a href=https://www.jianshu.com/p/32db6af735cd target=_blank rel="noopener noreffer">Linux的文件查看的常用命令</a></p><p><a href="https://www.notion.so/vim-03e3126a53f54d23bc4a2bd68d1b11cd?pvs=21" target=_blank rel="noopener noreffer">vim-notion</a></p><h1 id=行号>行号</h1><p><a href=https://blog.csdn.net/electrocrazy/article/details/79035216 target=_blank rel="noopener noreffer">设置vim 永久显示行号_vim行号永久-CSDN博客</a></p><p>取消显示</p><p><strong>:set nonumber</strong></p><h1 id=查看隐藏符号>查看隐藏符号</h1><p>cat -A</p><p>:set list</p><p>:set nolist</p><p>:set invlist</p><h1 id=faq>FAQ</h1><h2 id=中文乱码>中文乱码</h2><p>在 Ubuntu 中使用 <code>vim</code> 编辑文件时，<strong>如果中文显示乱码</strong>，通常是因为以下原因之一：</p><hr><h3 id=-原因总结>🚨 原因总结：</h3><ol><li><strong>终端字符集（locale）不支持 UTF-8</strong></li><li><strong>Vim 没有设置合适的编码</strong></li><li><strong>文件本身编码不是 UTF-8</strong></li><li><strong>使用的是 <code>vim.tiny</code>，功能太简化，UTF-8 支持不完整</strong></li></ol><hr><h3 id=-解决步骤如下>✅ 解决步骤如下：</h3><hr><h3 id=-1-检查终端环境支持-utf-8>✅ 1. 检查终端环境支持 UTF-8</h3><p>在终端中运行：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>locale
</span></span></code></pre></div><p>你应该看到像这样的输出：</p><pre tabindex=0><code>LANG=en_US.UTF-8
LC_ALL=
...
</code></pre><p>如果不是 <code>UTF-8</code>，你可以通过以下方式修改：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo update-locale <span class=nv>LANG</span><span class=o>=</span>en_US.UTF-8
</span></span></code></pre></div><p>然后重启终端或系统。</p><hr><h3 id=-2-检查-vim-是否设置了正确编码>✅ 2. 检查 Vim 是否设置了正确编码</h3><p>打开 <code>.vimrc</code> 配置文件（如果没有就创建）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim ~/.vimrc
</span></span></code></pre></div><p>添加以下内容：</p><pre tabindex=0><code>set encoding=utf-8
set fileencodings=utf-8,gbk,gb2312,cp936
set termencoding=utf-8
</code></pre><p>这样 Vim 会：</p><ul><li>使用 UTF-8 显示界面</li><li>优先尝试 UTF-8 打开文件，其次尝试 GBK 等中文编码</li><li>适配终端编码</li></ul><hr><h3 id=-3-确保使用的是完整版本的-vim>✅ 3. 确保使用的是完整版本的 Vim</h3><p>如果你用的是 <code>vim.tiny</code>（功能简化，不支持中文好好显示），建议安装完整版：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install vim
</span></span></code></pre></div><p>或者 GUI 版本（带剪贴板支持）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install vim-gtk
</span></span></code></pre></div><hr><h3 id=-4-确认你的文件确实是-utf-8-编码>✅ 4. 确认你的文件确实是 UTF-8 编码</h3><p>用 <code>file</code> 命令检查编码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>file 文件名.txt
</span></span></code></pre></div><p>输出示例：</p><pre tabindex=0><code>文件名.txt: UTF-8 Unicode text
</code></pre><p>如果不是 UTF-8，可以用 <code>iconv</code> 转码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>iconv -f gb2312 -t utf-8 原文件.txt -o 新文件.txt
</span></span></code></pre></div><hr><h3 id=小贴士临时设置编码方式>💡小贴士：临时设置编码方式</h3><p>你打开文件后发现乱码，可以用 Vim 命令行输入：</p><pre tabindex=0><code>:set fileencoding=utf-8
:e!
</code></pre><p>或者尝试：</p><pre tabindex=0><code>:e ++enc=gbk
</code></pre><hr><p>:set fileencoding=utf-8 # 重新编码</p><p>:wq</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2025-03-28</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/ data-title=vim data-hashtags=vim,linux><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/ data-hashtag=vim><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/ data-title=vim><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/ data-title=vim><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://fjyu95.github.io/posts/vim-03e3126a53f54d23bc4a2bd68d1b11cd/ data-title=vim><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/vim/>Vim</a>,&nbsp;<a href=/tags/linux/>Linux</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/%E7%A1%AC%E4%BB%B6%E6%9D%82%E8%B0%88/ class=prev rel=prev title=硬件杂谈><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>硬件杂谈</a>
<a href=/posts/%E6%91%84%E5%BD%B1%E6%88%90%E5%83%8F/ class=next rel=next title=摄影技巧>摄影技巧<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2020 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://fjyu95.github.io/ target=_blank>fjyu95</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>